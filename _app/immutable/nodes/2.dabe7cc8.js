import{d as qn,e as Ei,a as B,t as tt,n as $n,c as ye}from"../chunks/disclose-version.1b65366f.js";import{F as Fi,G as Ye,H as Oe,I as Nr,J as Me,h as yt,a as je,K as Ui,M as Ri,N as Ni,b as En,p as Ir,c as Ge,d as Pt,U as Ii,O as Li,P as Lr,Q as Re,g as d,R as Yi,S as Bn,T as un,V as Yr,W as ln,X as Or,Y as jr,Z as Fn,_ as Zn,$ as Un,a0 as Oi,a1 as ji,a2 as Hi,a3 as Hr,a4 as _e,a5 as Pi,a6 as Wi,a7 as zi,m as Vi,a8 as Qn,a9 as Xi,aa as qi,ab as Pr,ac as Bi,ad as Zi,ae as Qi,af as Gi,ag as Ji,ah as Ki,ai as ta,E as ea,aj as na,ak as ra,al as ia,w as aa,am as oa,an as sa,ao as ve,ap as ua,aq as la,i as ue,n as _t,ar as ht,j as xt,l as le,s as st,as as Tt,q as j,v as ct,r as Y,k as Wt,o as q,C as ca,t as Ne}from"../chunks/index.d58cbdbf.js";import{c as fa,a as Te,b as $t,d as Je,s as ot}from"../chunks/store.74a76b91.js";import{p as ne,i as lt,b as He}from"../chunks/props.3cccf1f7.js";import{S as Gn,r as da,d as va,b as ha,i as wn,e as Jn,f as Kn,g as ga,s as re,h as Wr,j as ma,p as Pe,k as pa,l as ya,m as we,n as he,c as Rn,o as zr,q as We,a as _a,t as tr}from"../chunks/store.915a8333.js";import{b as Vr}from"../chunks/paths.bdab3882.js";import{o as Xr}from"../chunks/index-client.2a6fc477.js";let er=!1;function wa(){er||(er=!0,document.addEventListener("reset",t=>{Promise.resolve().then(()=>{var e;if(!t.defaultPrevented)for(const n of t.target.elements)(e=n.__on_r)==null||e.call(n)})},{capture:!0}))}function ka(t,e,n,r=!0){r&&n();for(var a of e)t.addEventListener(a,n);Fi(()=>{for(var i of e)t.removeEventListener(i,n)})}function qr(t){var e=Nr,n=Me;Ye(null),Oe(null);try{return t()}finally{Ye(e),Oe(n)}}function nr(t,e,n){yt&&je();var r=t,a=Ii,i,s=Ui()?Ri:Ni;En(()=>{s(a,a=e())&&(i&&Ir(i),i=Ge(()=>n(r)))}),yt&&(r=Pt)}function ke(t,e){return e}function Ma(t,e,n,r){for(var a=[],i=e.length,s=0;s<i;s++)Oi(e[s].e,a,!0);var c=i>0&&a.length===0&&n!==null;if(c){var u=n.parentNode;ji(u),u.append(n),r.clear(),Ht(t,e[0].prev,e[i-1].next)}Hi(a,()=>{for(var l=0;l<i;l++){var v=e[l];c||(r.delete(v.k),Ht(t,v.prev,v.next)),Hr(v.e,!c)}})}function At(t,e,n,r,a,i=null){var s=t,c={flags:e,items:new Map,first:null},u=(e&Lr)!==0;if(u){var l=t;s=yt?Re(_e(l)):l.appendChild(Li())}yt&&je();var v=null,f=!1,o=Pi(()=>{var g=n();return Xi(g)?g:g==null?[]:Or(g)});En(()=>{var g=d(o),h=g.length;if(f&&h===0)return;f=h===0;let M=!1;if(yt){var D=s.data===Yi;D!==(h===0)&&(s=Bn(),Re(s),un(!1),M=!0)}if(yt){for(var L=null,E,_=0;_<h;_++){if(Pt.nodeType===8&&Pt.data===Wi){s=Pt,M=!0,un(!1);break}var m=g[_],w=r(m,_);E=Br(Pt,c,L,null,m,w,_,a,e,n),c.items.set(w,E),L=E}h>0&&Re(Bn())}yt||ba(g,c,s,a,e,r,n),i!==null&&(h===0?v?Yr(v):v=Ge(()=>i(s)):v!==null&&Ir(v,()=>{v=null})),M&&un(!0),d(o)}),yt&&(s=Pt)}function ba(t,e,n,r,a,i,s){var H,A,U,V;var c=(a&zi)!==0,u=(a&(Fn|Un))!==0,l=t.length,v=e.items,f=e.first,o=f,g,h=null,M,D=[],L=[],E,_,m,w;if(c)for(w=0;w<l;w+=1)E=t[w],_=i(E,w),m=v.get(_),m!==void 0&&((H=m.a)==null||H.measure(),(M??(M=new Set)).add(m));for(w=0;w<l;w+=1){if(E=t[w],_=i(E,w),m=v.get(_),m===void 0){var b=o?o.e.nodes_start:n;h=Br(b,e,h,h===null?e.first:h.next,E,_,w,r,a,s),v.set(_,h),D=[],L=[],o=h.next;continue}if(u&&xa(m,E,w,a),m.e.f&ln&&(Yr(m.e),c&&((A=m.a)==null||A.unfix(),(M??(M=new Set)).delete(m))),m!==o){if(g!==void 0&&g.has(m)){if(D.length<L.length){var I=L[0],X;h=I.prev;var G=D[0],Z=D[D.length-1];for(X=0;X<D.length;X+=1)rr(D[X],I,n);for(X=0;X<L.length;X+=1)g.delete(L[X]);Ht(e,G.prev,Z.next),Ht(e,h,G),Ht(e,Z,I),o=I,h=Z,w-=1,D=[],L=[]}else g.delete(m),rr(m,o,n),Ht(e,m.prev,m.next),Ht(e,m,h===null?e.first:h.next),Ht(e,h,m),h=m;continue}for(D=[],L=[];o!==null&&o.k!==_;)o.e.f&ln||(g??(g=new Set)).add(o),L.push(o),o=o.next;if(o===null)continue;m=o}D.push(m),h=m,o=m.next}if(o!==null||g!==void 0){for(var T=g===void 0?[]:Or(g);o!==null;)o.e.f&ln||T.push(o),o=o.next;var k=T.length;if(k>0){var F=a&Lr&&l===0?n:null;if(c){for(w=0;w<k;w+=1)(U=T[w].a)==null||U.measure();for(w=0;w<k;w+=1)(V=T[w].a)==null||V.fix()}Ma(e,T,F,v)}}c&&jr(()=>{var $;if(M!==void 0)for(m of M)($=m.a)==null||$.apply()}),Me.first=e.first&&e.first.e,Me.last=h&&h.e}function xa(t,e,n,r){r&Fn&&Zn(t.v,e),r&Un?Zn(t.i,n):t.i=n}function Br(t,e,n,r,a,i,s,c,u,l){var v=(u&Fn)!==0,f=(u&qi)===0,o=v?f?Vi(a):Qn(a):a,g=u&Un?Qn(s):s,h={i:g,v:o,k:i,a:null,e:null,prev:n,next:r};try{return h.e=Ge(()=>c(t,o,g,l),yt),h.e.prev=n&&n.e,h.e.next=r&&r.e,n===null?e.first=h:(n.next=h,n.e.next=h.e),r!==null&&(r.prev=h,r.e.prev=h.e),h}finally{}}function rr(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,a=e?e.e.nodes_start:n,i=t.e.nodes_start;i!==r;){var s=Pr(i);a.before(i),i=s}}function Ht(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Zr(t,e,n,r,a){var i=t,s="",c;En(()=>{if(s===(s=e()??"")){yt&&je();return}c!==void 0&&(Hr(c),c=void 0),s!==""&&(c=Ge(()=>{if(yt){Pt.data;for(var u=je(),l=u;u!==null&&(u.nodeType!==8||u.data!=="");)l=u,u=Pr(u);if(u===null)throw Bi(),Zi;qn(Pt,l),i=Re(u);return}var v=s+"";n?v=`<svg>${v}</svg>`:r&&(v=`<math>${v}</math>`);var f=Ei(v);if((n||r)&&(f=_e(f)),qn(_e(f),f.lastChild),n||r)for(;_e(f);)i.before(_e(f));else i.before(f)}))})}const ir=[...` 	
\r\fÂ \v\uFEFF`];function Ta(t,e,n){var r=t==null?"":""+t;if(e&&(r=r?r+" "+e:e),n){for(var a in n)if(n[a])r=r?r+" "+a:a;else if(r.length)for(var i=a.length,s=0;(s=r.indexOf(a,s))>=0;){var c=s+i;(s===0||ir.includes(r[s-1]))&&(c===r.length||ir.includes(r[c]))?r=(s===0?"":r.substring(0,s))+r.substring(c+1):s=c}}return r===""?null:r}function ar(t,e=!1){var n=e?" !important;":";",r="";for(var a in t){var i=t[a];i!=null&&i!==""&&(r+=" "+a+": "+i+n)}return r}function cn(t){return t[0]!=="-"||t[1]!=="-"?t.toLowerCase():t}function Sa(t,e){if(e){var n="",r,a;if(Array.isArray(e)?(r=e[0],a=e[1]):r=e,t){t=String(t).replaceAll(/\s*\/\*.*?\*\/\s*/g,"").trim();var i=!1,s=0,c=!1,u=[];r&&u.push(...Object.keys(r).map(cn)),a&&u.push(...Object.keys(a).map(cn));var l=0,v=-1;const M=t.length;for(var f=0;f<M;f++){var o=t[f];if(c?o==="/"&&t[f-1]==="*"&&(c=!1):i?i===o&&(i=!1):o==="/"&&t[f+1]==="*"?c=!0:o==='"'||o==="'"?i=o:o==="("?s++:o===")"&&s--,!c&&i===!1&&s===0){if(o===":"&&v===-1)v=f;else if(o===";"||f===M-1){if(v!==-1){var g=cn(t.substring(l,v).trim());if(!u.includes(g)){o!==";"&&f++;var h=t.substring(l,f).trim();n+=" "+h+";"}}l=f+1,v=-1}}}}return r&&(n+=ar(r)),a&&(n+=ar(a,!0)),n=n.trim(),n===""?null:n}return t==null?null:String(t)}function kt(t,e,n,r,a,i){var s=t.__className;if(yt||s!==n||s===void 0){var c=Ta(n,r,i);(!yt||c!==t.getAttribute("class"))&&(c==null?t.removeAttribute("class"):e?t.className=c:t.setAttribute("class",c)),t.__className=n}else if(i&&a!==i)for(var u in i){var l=!!i[u];(a==null||l!==!!a[u])&&t.classList.toggle(u,l)}return i}function fn(t,e={},n,r){for(var a in n){var i=n[a];e[a]!==i&&(n[a]==null?t.style.removeProperty(a):t.style.setProperty(a,i,r))}}function ie(t,e,n,r){var a=t.__style;if(yt||a!==e){var i=Sa(e,r);(!yt||i!==t.getAttribute("style"))&&(i==null?t.removeAttribute("style"):t.style.cssText=i),t.__style=e}else r&&(Array.isArray(r)?(fn(t,n==null?void 0:n[0],r[0]),fn(t,n==null?void 0:n[1],r[1],"important")):fn(t,n,r));return r}const Ca=Symbol("is custom element"),Da=Symbol("is html");function Aa(t){if(yt){var e=!1,n=()=>{if(!e){if(e=!0,t.hasAttribute("value")){var r=t.value;zt(t,"value",null),t.value=r}if(t.hasAttribute("checked")){var a=t.checked;zt(t,"checked",null),t.checked=a}}};t.__on_r=n,ta(n),wa()}}function $a(t,e){var n=Qr(t);n.checked!==(n.checked=e??void 0)&&(t.checked=e)}function zt(t,e,n,r){var a=Qr(t);yt&&(a[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||a[e]!==(a[e]=n)&&(e==="loading"&&(t[Qi]=n),n==null?t.removeAttribute(e):typeof n!="string"&&Ea(t).includes(e)?t[e]=n:t.setAttribute(e,n))}function Qr(t){return t.__attributes??(t.__attributes={[Ca]:t.nodeName.includes("-"),[Da]:t.namespaceURI===Gi})}var or=new Map;function Ea(t){var e=or.get(t.nodeName);if(e)return e;or.set(t.nodeName,e=[]);for(var n,r=t,a=Element.prototype;a!==r;){n=Ki(r);for(var i in n)n[i].set&&e.push(i);r=Ji(r)}return e}const Fa=()=>performance.now(),Ut={tick:t=>requestAnimationFrame(t),now:()=>Fa(),tasks:new Set};function Gr(){const t=Ut.now();Ut.tasks.forEach(e=>{e.c(t)||(Ut.tasks.delete(e),e.f())}),Ut.tasks.size!==0&&Ut.tick(Gr)}function Ua(t){let e;return Ut.tasks.size===0&&Ut.tick(Gr),{promise:new Promise(n=>{Ut.tasks.add(e={c:t,f:n})}),abort(){Ut.tasks.delete(e)}}}function $e(t,e){qr(()=>{t.dispatchEvent(new CustomEvent(e))})}function Ra(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function sr(t){const e={},n=t.split(";");for(const r of n){const[a,i]=r.split(":");if(!a||i===void 0)break;const s=Ra(a.trim());e[s]=i.trim()}return e}const Na=t=>t;function Bt(t,e,n,r){var a=(t&oa)!==0,i=(t&ua)!==0,s=a&&i,c=(t&la)!==0,u=s?"both":a?"in":"out",l,v=e.inert,f=e.style.overflow,o,g;function h(){var _=Nr,m=Me;Ye(null),Oe(null);try{return l??(l=n()(e,(r==null?void 0:r())??{},{direction:u}))}finally{Ye(_),Oe(m)}}var M={is_global:c,in(){var _;if(e.inert=v,!a){g==null||g.abort(),(_=g==null?void 0:g.reset)==null||_.call(g);return}i||o==null||o.abort(),$e(e,"introstart"),o=kn(e,h(),g,1,()=>{$e(e,"introend"),o==null||o.abort(),o=l=void 0,e.style.overflow=f})},out(_){if(!i){_==null||_(),l=void 0;return}e.inert=!0,$e(e,"outrostart"),g=kn(e,h(),o,0,()=>{$e(e,"outroend"),_==null||_()})},stop:()=>{o==null||o.abort(),g==null||g.abort()}},D=Me;if((D.transitions??(D.transitions=[])).push(M),a&&fa){var L=c;if(!L){for(var E=D.parent;E&&E.f&ea;)for(;(E=E.parent)&&!(E.f&na););L=!E||(E.f&ra)!==0}L&&ia(()=>{aa(()=>M.in())})}}function kn(t,e,n,r,a){var i=r===1;if(sa(e)){var s,c=!1;return jr(()=>{if(!c){var D=e({direction:i?"in":"out"});s=kn(t,D,n,r,a)}}),{abort:()=>{c=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return a(),{abort:ve,deactivate:ve,reset:ve,t:()=>r};const{delay:u=0,css:l,tick:v,easing:f=Na}=e;var o=[];if(i&&n===void 0&&(v&&v(0,1),l)){var g=sr(l(0,1));o.push(g,g)}var h=()=>1-r,M=t.animate(o,{duration:u});return M.onfinish=()=>{var D=(n==null?void 0:n.t())??1-r;n==null||n.abort();var L=r-D,E=e.duration*Math.abs(L),_=[];if(E>0){var m=!1;if(l)for(var w=Math.ceil(E/16.666666666666668),b=0;b<=w;b+=1){var I=D+L*f(b/w),X=sr(l(I,1-I));_.push(X),m||(m=X.overflow==="hidden")}m&&(t.style.overflow="hidden"),h=()=>{var G=M.currentTime;return D+L*f(G/E)},v&&Ua(()=>{if(M.playState!=="running")return!1;var G=h();return v(G,1-G),!0})}M=t.animate(_,{duration:E,fill:"forwards"}),M.onfinish=()=>{h=()=>r,v==null||v(r,1-r),a()}},{abort:()=>{M&&(M.cancel(),M.effect=null,M.onfinish=ve)},deactivate:()=>{a=ve},reset:()=>{r===0&&(v==null||v(1,0))},t:()=>h()}}function Ia(t,e){ka(window,["resize"],()=>qr(()=>e(window[t])))}function Ie(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function La(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Nn(t){let e,n,r;t.length!==2?(e=Ie,n=(c,u)=>Ie(t(c),u),r=(c,u)=>t(c)-u):(e=t===Ie||t===La?t:Ya,n=t,r=t);function a(c,u,l=0,v=c.length){if(l<v){if(e(u,u)!==0)return v;do{const f=l+v>>>1;n(c[f],u)<0?l=f+1:v=f}while(l<v)}return l}function i(c,u,l=0,v=c.length){if(l<v){if(e(u,u)!==0)return v;do{const f=l+v>>>1;n(c[f],u)<=0?l=f+1:v=f}while(l<v)}return l}function s(c,u,l=0,v=c.length){const f=a(c,u,l,v-1);return f>l&&r(c[f-1],u)>-r(c[f],u)?f-1:f}return{left:a,center:s,right:i}}function Ya(){return 0}function Oa(t){return t===null?NaN:+t}const ja=Nn(Ie),Ha=ja.right;Nn(Oa).center;const Pa=Ha;function Wa(t,e){let n,r;if(e===void 0)for(const a of t)a!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)));else{let a=-1;for(let i of t)(i=e(i,++a,t))!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)))}return[n,r]}class za extends Map{constructor(e,n=qa){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,a]of e)this.set(r,a)}get(e){return super.get(ur(this,e))}has(e){return super.has(ur(this,e))}set(e,n){return super.set(Va(this,e),n)}delete(e){return super.delete(Xa(this,e))}}function ur({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Va({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xa({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function qa(t){return t!==null&&typeof t=="object"?t.valueOf():t}function lr(t){return t}function In(t,...e){return Ba(t,lr,lr,e)}function Ba(t,e,n,r){return function a(i,s){if(s>=r.length)return n(i);const c=new za,u=r[s++];let l=-1;for(const v of i){const f=u(v,++l,i),o=c.get(f);o?o.push(v):c.set(f,[v])}for(const[v,f]of c)c.set(v,a(f,s));return e(c)}(t,0)}const Za=Math.sqrt(50),Qa=Math.sqrt(10),Ga=Math.sqrt(2);function ze(t,e,n){const r=(e-t)/Math.max(0,n),a=Math.floor(Math.log10(r)),i=r/Math.pow(10,a),s=i>=Za?10:i>=Qa?5:i>=Ga?2:1;let c,u,l;return a<0?(l=Math.pow(10,-a)/s,c=Math.round(t*l),u=Math.round(e*l),c/l<t&&++c,u/l>e&&--u,l=-l):(l=Math.pow(10,a)*s,c=Math.round(t/l),u=Math.round(e/l),c*l<t&&++c,u*l>e&&--u),u<c&&.5<=n&&n<2?ze(t,e,n*2):[c,u,l]}function Ja(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[a,i,s]=r?ze(e,t,n):ze(t,e,n);if(!(i>=a))return[];const c=i-a+1,u=new Array(c);if(r)if(s<0)for(let l=0;l<c;++l)u[l]=(i-l)/-s;else for(let l=0;l<c;++l)u[l]=(i-l)*s;else if(s<0)for(let l=0;l<c;++l)u[l]=(a+l)/-s;else for(let l=0;l<c;++l)u[l]=(a+l)*s;return u}function Mn(t,e,n){return e=+e,t=+t,n=+n,ze(t,e,n)[2]}function bn(t,e,n){e=+e,t=+t,n=+n;const r=e<t,a=r?Mn(e,t,n):Mn(t,e,n);return(r?-1:1)*(a<0?1/-a:a)}function Jr(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let a of t)(a=e(a,++r,t))!=null&&(n<a||n===void 0&&a>=a)&&(n=a)}return n}function Ka(t){return t}var Le=1,dn=2,xn=3,Ee=4,cr=1e-6;function to(t){return"translate("+t+",0)"}function eo(t){return"translate(0,"+t+")"}function no(t){return e=>+t(e)}function ro(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function io(){return!this.__axis}function Kr(t,e){var n=[],r=null,a=null,i=6,s=6,c=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=t===Le||t===Ee?-1:1,v=t===Ee||t===dn?"x":"y",f=t===Le||t===xn?to:eo;function o(g){var h=r??(e.ticks?e.ticks.apply(e,n):e.domain()),M=a??(e.tickFormat?e.tickFormat.apply(e,n):Ka),D=Math.max(i,0)+c,L=e.range(),E=+L[0]+u,_=+L[L.length-1]+u,m=(e.bandwidth?ro:no)(e.copy(),u),w=g.selection?g.selection():g,b=w.selectAll(".domain").data([null]),I=w.selectAll(".tick").data(h,e).order(),X=I.exit(),G=I.enter().append("g").attr("class","tick"),Z=I.select("line"),T=I.select("text");b=b.merge(b.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),I=I.merge(G),Z=Z.merge(G.append("line").attr("stroke","currentColor").attr(v+"2",l*i)),T=T.merge(G.append("text").attr("fill","currentColor").attr(v,l*D).attr("dy",t===Le?"0em":t===xn?"0.71em":"0.32em")),g!==w&&(b=b.transition(g),I=I.transition(g),Z=Z.transition(g),T=T.transition(g),X=X.transition(g).attr("opacity",cr).attr("transform",function(k){return isFinite(k=m(k))?f(k+u):this.getAttribute("transform")}),G.attr("opacity",cr).attr("transform",function(k){var F=this.parentNode.__axis;return f((F&&isFinite(F=F(k))?F:m(k))+u)})),X.remove(),b.attr("d",t===Ee||t===dn?s?"M"+l*s+","+E+"H"+u+"V"+_+"H"+l*s:"M"+u+","+E+"V"+_:s?"M"+E+","+l*s+"V"+u+"H"+_+"V"+l*s:"M"+E+","+u+"H"+_),I.attr("opacity",1).attr("transform",function(k){return f(m(k)+u)}),Z.attr(v+"2",l*i),T.attr(v,l*D).text(M),w.filter(io).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor",t===dn?"start":t===Ee?"end":"middle"),w.each(function(){this.__axis=m})}return o.scale=function(g){return arguments.length?(e=g,o):e},o.ticks=function(){return n=Array.from(arguments),o},o.tickArguments=function(g){return arguments.length?(n=g==null?[]:Array.from(g),o):n.slice()},o.tickValues=function(g){return arguments.length?(r=g==null?null:Array.from(g),o):r&&r.slice()},o.tickFormat=function(g){return arguments.length?(a=g,o):a},o.tickSize=function(g){return arguments.length?(i=s=+g,o):i},o.tickSizeInner=function(g){return arguments.length?(i=+g,o):i},o.tickSizeOuter=function(g){return arguments.length?(s=+g,o):s},o.tickPadding=function(g){return arguments.length?(c=+g,o):c},o.offset=function(g){return arguments.length?(u=+g,o):u},o}function ao(t){return Kr(Le,t)}function oo(t){return Kr(xn,t)}function be(t){return typeof t=="string"?new Gn([[document.querySelector(t)]],[document.documentElement]):new Gn([[t]],da)}function so(t){let e;for(;e=t.sourceEvent;)t=e;return t}function Tn(t,e){if(t=so(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}}return[t.pageX,t.pageY]}const uo={passive:!1},xe={capture:!0,passive:!1};function vn(t){t.stopImmediatePropagation()}function ee(t){t.preventDefault(),t.stopImmediatePropagation()}function lo(t){var e=t.document.documentElement,n=be(t).on("dragstart.drag",ee,xe);"onselectstart"in e?n.on("selectstart.drag",ee,xe):(e.__noselect=e.style.MozUserSelect,e.style.MozUserSelect="none")}function co(t,e){var n=t.document.documentElement,r=be(t).on("dragstart.drag",null);e&&(r.on("click.drag",ee,xe),setTimeout(function(){r.on("click.drag",null)},0)),"onselectstart"in n?r.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}const Fe=t=>()=>t;function Sn(t,{sourceEvent:e,subject:n,target:r,identifier:a,active:i,x:s,y:c,dx:u,dy:l,dispatch:v}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:e,enumerable:!0,configurable:!0},subject:{value:n,enumerable:!0,configurable:!0},target:{value:r,enumerable:!0,configurable:!0},identifier:{value:a,enumerable:!0,configurable:!0},active:{value:i,enumerable:!0,configurable:!0},x:{value:s,enumerable:!0,configurable:!0},y:{value:c,enumerable:!0,configurable:!0},dx:{value:u,enumerable:!0,configurable:!0},dy:{value:l,enumerable:!0,configurable:!0},_:{value:v}})}Sn.prototype.on=function(){var t=this._.on.apply(this._,arguments);return t===this._?this:t};function fo(t){return!t.ctrlKey&&!t.button}function vo(){return this.parentNode}function ho(t,e){return e??{x:t.x,y:t.y}}function go(){return navigator.maxTouchPoints||"ontouchstart"in this}function mo(){var t=fo,e=vo,n=ho,r=go,a={},i=va("start","drag","end"),s=0,c,u,l,v,f=0;function o(m){m.on("mousedown.drag",g).filter(r).on("touchstart.drag",D).on("touchmove.drag",L,uo).on("touchend.drag touchcancel.drag",E).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function g(m,w){if(!(v||!t.call(this,m,w))){var b=_(this,e.call(this,m,w),m,w,"mouse");b&&(be(m.view).on("mousemove.drag",h,xe).on("mouseup.drag",M,xe),lo(m.view),vn(m),l=!1,c=m.clientX,u=m.clientY,b("start",m))}}function h(m){if(ee(m),!l){var w=m.clientX-c,b=m.clientY-u;l=w*w+b*b>f}a.mouse("drag",m)}function M(m){be(m.view).on("mousemove.drag mouseup.drag",null),co(m.view,l),ee(m),a.mouse("end",m)}function D(m,w){if(t.call(this,m,w)){var b=m.changedTouches,I=e.call(this,m,w),X=b.length,G,Z;for(G=0;G<X;++G)(Z=_(this,I,m,w,b[G].identifier,b[G]))&&(vn(m),Z("start",m,b[G]))}}function L(m){var w=m.changedTouches,b=w.length,I,X;for(I=0;I<b;++I)(X=a[w[I].identifier])&&(ee(m),X("drag",m,w[I]))}function E(m){var w=m.changedTouches,b=w.length,I,X;for(v&&clearTimeout(v),v=setTimeout(function(){v=null},500),I=0;I<b;++I)(X=a[w[I].identifier])&&(vn(m),X("end",m,w[I]))}function _(m,w,b,I,X,G){var Z=i.copy(),T=Tn(G||b,w),k,F,H;if((H=n.call(m,new Sn("beforestart",{sourceEvent:b,target:o,identifier:X,active:s,x:T[0],y:T[1],dx:0,dy:0,dispatch:Z}),I))!=null)return k=H.x-T[0]||0,F=H.y-T[1]||0,function A(U,V,$){var P=T,J;switch(U){case"start":a[X]=A,J=s++;break;case"end":delete a[X],--s;case"drag":T=Tn($||V,w),J=s;break}Z.call(U,m,new Sn(U,{sourceEvent:V,subject:H,target:o,identifier:X,active:J,x:T[0]+k,y:T[1]+F,dx:T[0]-P[0],dy:T[1]-P[1],dispatch:Z}),I)}}return o.filter=function(m){return arguments.length?(t=typeof m=="function"?m:Fe(!!m),o):t},o.container=function(m){return arguments.length?(e=typeof m=="function"?m:Fe(m),o):e},o.subject=function(m){return arguments.length?(n=typeof m=="function"?m:Fe(m),o):n},o.touchable=function(m){return arguments.length?(r=typeof m=="function"?m:Fe(!!m),o):r},o.on=function(){var m=i.on.apply(i,arguments);return m===i?o:m},o.clickDistance=function(m){return arguments.length?(f=(m=+m)*m,o):Math.sqrt(f)},o}function po(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),a;return function(i){for(a=0;a<n;++a)r[a]=t[a]*(1-i)+e[a]*i;return r}}function yo(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function _o(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,a=new Array(r),i=new Array(n),s;for(s=0;s<r;++s)a[s]=Ln(t[s],e[s]);for(;s<n;++s)i[s]=e[s];return function(c){for(s=0;s<r;++s)i[s]=a[s](c);return i}}function wo(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function ko(t,e){var n={},r={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?n[a]=Ln(t[a],e[a]):r[a]=e[a];return function(i){for(a in n)r[a]=n[a](i);return r}}function Ln(t,e){var n=typeof e,r;return e==null||n==="boolean"?ha(e):(n==="number"?wn:n==="string"?(r=Jn(e))?(e=r,Kn):ga:e instanceof Jn?Kn:e instanceof Date?wo:yo(e)?po:Array.isArray(e)?_o:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ko:wn)(t,e)}function Mo(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}const Cn=Math.PI,Dn=2*Cn,qt=1e-6,bo=Dn-qt;function ti(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function xo(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return ti;const n=10**e;return function(r){this._+=r[0];for(let a=1,i=r.length;a<i;++a)this._+=Math.round(arguments[a]*n)/n+r[a]}}class To{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?ti:xo(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,a){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+a}`}bezierCurveTo(e,n,r,a,i,s){this._append`C${+e},${+n},${+r},${+a},${this._x1=+i},${this._y1=+s}`}arcTo(e,n,r,a,i){if(e=+e,n=+n,r=+r,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let s=this._x1,c=this._y1,u=r-e,l=a-n,v=s-e,f=c-n,o=v*v+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(o>qt)if(!(Math.abs(f*u-l*v)>qt)||!i)this._append`L${this._x1=e},${this._y1=n}`;else{let g=r-s,h=a-c,M=u*u+l*l,D=g*g+h*h,L=Math.sqrt(M),E=Math.sqrt(o),_=i*Math.tan((Cn-Math.acos((M+o-D)/(2*L*E)))/2),m=_/E,w=_/L;Math.abs(m-1)>qt&&this._append`L${e+m*v},${n+m*f}`,this._append`A${i},${i},0,0,${+(f*g>v*h)},${this._x1=e+w*u},${this._y1=n+w*l}`}}arc(e,n,r,a,i,s){if(e=+e,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let c=r*Math.cos(a),u=r*Math.sin(a),l=e+c,v=n+u,f=1^s,o=s?a-i:i-a;this._x1===null?this._append`M${l},${v}`:(Math.abs(this._x1-l)>qt||Math.abs(this._y1-v)>qt)&&this._append`L${l},${v}`,r&&(o<0&&(o=o%Dn+Dn),o>bo?this._append`A${r},${r},0,1,${f},${e-c},${n-u}A${r},${r},0,1,${f},${this._x1=l},${this._y1=v}`:o>qt&&this._append`A${r},${r},0,${+(o>=Cn)},${f},${this._x1=e+r*Math.cos(i)},${this._y1=n+r*Math.sin(i)}`)}rect(e,n,r,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+a}h${-r}Z`}toString(){return this._}}function So(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ve(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function ae(t){return t=Ve(Math.abs(t)),t?t[1]:NaN}function Co(t,e){return function(n,r){for(var a=n.length,i=[],s=0,c=t[0],u=0;a>0&&c>0&&(u+c+1>r&&(c=Math.max(1,r-u)),i.push(n.substring(a-=c,a+c)),!((u+=c+1)>r));)c=t[s=(s+1)%t.length];return i.reverse().join(e)}}function Do(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var Ao=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xe(t){if(!(e=Ao.exec(t)))throw new Error("invalid format: "+t);var e;return new Yn({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xe.prototype=Yn.prototype;function Yn(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}Yn.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function $o(t){t:for(var e=t.length,n=1,r=-1,a;n<e;++n)switch(t[n]){case".":r=a=n;break;case"0":r===0&&(r=n),a=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(a+1):t}var ei;function Eo(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],a=n[1],i=a-(ei=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,s=r.length;return i===s?r:i>s?r+new Array(i-s+1).join("0"):i>0?r.slice(0,i)+"."+r.slice(i):"0."+new Array(1-i).join("0")+Ve(t,Math.max(0,e+i-1))[0]}function fr(t,e){var n=Ve(t,e);if(!n)return t+"";var r=n[0],a=n[1];return a<0?"0."+new Array(-a).join("0")+r:r.length>a+1?r.slice(0,a+1)+"."+r.slice(a+1):r+new Array(a-r.length+2).join("0")}const dr={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:So,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>fr(t*100,e),r:fr,s:Eo,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vr(t){return t}var hr=Array.prototype.map,gr=["y","z","a","f","p","n","Âµ","m","","k","M","G","T","P","E","Z","Y"];function Fo(t){var e=t.grouping===void 0||t.thousands===void 0?vr:Co(hr.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?vr:Do(hr.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",c=t.minus===void 0?"â":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function l(f){f=Xe(f);var o=f.fill,g=f.align,h=f.sign,M=f.symbol,D=f.zero,L=f.width,E=f.comma,_=f.precision,m=f.trim,w=f.type;w==="n"?(E=!0,w="g"):dr[w]||(_===void 0&&(_=12),m=!0,w="g"),(D||o==="0"&&g==="=")&&(D=!0,o="0",g="=");var b=M==="$"?n:M==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",I=M==="$"?r:/[%p]/.test(w)?s:"",X=dr[w],G=/[defgprs%]/.test(w);_=_===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function Z(T){var k=b,F=I,H,A,U;if(w==="c")F=X(T)+F,T="";else{T=+T;var V=T<0||1/T<0;if(T=isNaN(T)?u:X(Math.abs(T),_),m&&(T=$o(T)),V&&+T==0&&h!=="+"&&(V=!1),k=(V?h==="("?h:c:h==="-"||h==="("?"":h)+k,F=(w==="s"?gr[8+ei/3]:"")+F+(V&&h==="("?")":""),G){for(H=-1,A=T.length;++H<A;)if(U=T.charCodeAt(H),48>U||U>57){F=(U===46?a+T.slice(H+1):T.slice(H))+F,T=T.slice(0,H);break}}}E&&!D&&(T=e(T,1/0));var $=k.length+T.length+F.length,P=$<L?new Array(L-$+1).join(o):"";switch(E&&D&&(T=e(P+T,P.length?L-F.length:1/0),P=""),g){case"<":T=k+T+F+P;break;case"=":T=k+P+T+F;break;case"^":T=P.slice(0,$=P.length>>1)+k+T+F+P.slice($);break;default:T=P+k+T+F;break}return i(T)}return Z.toString=function(){return f+""},Z}function v(f,o){var g=l((f=Xe(f),f.type="f",f)),h=Math.max(-8,Math.min(8,Math.floor(ae(o)/3)))*3,M=Math.pow(10,-h),D=gr[8+h/3];return function(L){return g(M*L)+D}}return{format:l,formatPrefix:v}}var Ue,ni,ri;Uo({thousands:",",grouping:[3],currency:["$",""]});function Uo(t){return Ue=Fo(t),ni=Ue.format,ri=Ue.formatPrefix,Ue}function Ro(t){return Math.max(0,-ae(Math.abs(t)))}function No(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ae(e)/3)))*3-ae(Math.abs(t)))}function Io(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ae(e)-ae(t))+1}function ii(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Lo(t){return function(){return t}}function Yo(t){return+t}var mr=[0,1];function Kt(t){return t}function An(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:Lo(isNaN(e)?NaN:.5)}function Oo(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function jo(t,e,n){var r=t[0],a=t[1],i=e[0],s=e[1];return a<r?(r=An(a,r),i=n(s,i)):(r=An(r,a),i=n(i,s)),function(c){return i(r(c))}}function Ho(t,e,n){var r=Math.min(t.length,e.length)-1,a=new Array(r),i=new Array(r),s=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<r;)a[s]=An(t[s],t[s+1]),i[s]=n(e[s],e[s+1]);return function(c){var u=Pa(t,c,1,r)-1;return i[u](a[u](c))}}function ai(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Po(){var t=mr,e=mr,n=Ln,r,a,i,s=Kt,c,u,l;function v(){var o=Math.min(t.length,e.length);return s!==Kt&&(s=Oo(t[0],t[o-1])),c=o>2?Ho:jo,u=l=null,f}function f(o){return o==null||isNaN(o=+o)?i:(u||(u=c(t.map(r),e,n)))(r(s(o)))}return f.invert=function(o){return s(a((l||(l=c(e,t.map(r),wn)))(o)))},f.domain=function(o){return arguments.length?(t=Array.from(o,Yo),v()):t.slice()},f.range=function(o){return arguments.length?(e=Array.from(o),v()):e.slice()},f.rangeRound=function(o){return e=Array.from(o),n=Mo,v()},f.clamp=function(o){return arguments.length?(s=o?!0:Kt,v()):s!==Kt},f.interpolate=function(o){return arguments.length?(n=o,v()):n},f.unknown=function(o){return arguments.length?(i=o,f):i},function(o,g){return r=o,a=g,v()}}function oi(){return Po()(Kt,Kt)}function Wo(t,e,n,r){var a=bn(t,e,n),i;switch(r=Xe(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(i=No(a,s))&&(r.precision=i),ri(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(i=Io(a,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=i-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(i=Ro(a))&&(r.precision=i-(r.type==="%")*2);break}}return ni(r)}function zo(t){var e=t.domain;return t.ticks=function(n){var r=e();return Ja(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var a=e();return Wo(a[0],a[a.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),a=0,i=r.length-1,s=r[a],c=r[i],u,l,v=10;for(c<s&&(l=s,s=c,c=l,l=a,a=i,i=l);v-- >0;){if(l=Mn(s,c,n),l===u)return r[a]=s,r[i]=c,e(r);if(l>0)s=Math.floor(s/l)*l,c=Math.ceil(c/l)*l;else if(l<0)s=Math.ceil(s*l)/l,c=Math.floor(c*l)/l;else break;u=l}return t},t}function Ke(){var t=oi();return t.copy=function(){return ai(t,Ke())},ii.apply(t,arguments),zo(t)}function Vo(t,e){t=t.slice();var n=0,r=t.length-1,a=t[n],i=t[r],s;return i<a&&(s=n,n=r,r=s,s=a,a=i,i=s),t[n]=e.floor(a),t[r]=e.ceil(i),t}const hn=new Date,gn=new Date;function gt(t,e,n,r){function a(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(t(i=new Date(+i)),i),a.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),a.round=i=>{const s=a(i),c=a.ceil(i);return i-s<c-i?s:c},a.offset=(i,s)=>(e(i=new Date(+i),s==null?1:Math.floor(s)),i),a.range=(i,s,c)=>{const u=[];if(i=a.ceil(i),c=c==null?1:Math.floor(c),!(i<s)||!(c>0))return u;let l;do u.push(l=new Date(+i)),e(i,c),t(i);while(l<i&&i<s);return u},a.filter=i=>gt(s=>{if(s>=s)for(;t(s),!i(s);)s.setTime(s-1)},(s,c)=>{if(s>=s)if(c<0)for(;++c<=0;)for(;e(s,-1),!i(s););else for(;--c>=0;)for(;e(s,1),!i(s););}),n&&(a.count=(i,s)=>(hn.setTime(+i),gn.setTime(+s),t(hn),t(gn),Math.floor(n(hn,gn))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(r?s=>r(s)%i===0:s=>a.count(0,s)%i===0):a)),a}const qe=gt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);qe.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?gt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):qe);qe.range;const Rt=1e3,Mt=Rt*60,Nt=Mt*60,It=Nt*24,On=It*7,pr=It*30,mn=It*365,te=gt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Rt)},(t,e)=>(e-t)/Rt,t=>t.getUTCSeconds());te.range;const jn=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rt)},(t,e)=>{t.setTime(+t+e*Mt)},(t,e)=>(e-t)/Mt,t=>t.getMinutes());jn.range;const Xo=gt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Mt)},(t,e)=>(e-t)/Mt,t=>t.getUTCMinutes());Xo.range;const Hn=gt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Rt-t.getMinutes()*Mt)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getHours());Hn.range;const qo=gt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Nt)},(t,e)=>(e-t)/Nt,t=>t.getUTCHours());qo.range;const Se=gt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Mt)/It,t=>t.getDate()-1);Se.range;const Pn=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/It,t=>t.getUTCDate()-1);Pn.range;const Bo=gt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/It,t=>Math.floor(t/It));Bo.range;function Qt(t){return gt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Mt)/On)}const tn=Qt(0),Be=Qt(1),Zo=Qt(2),Qo=Qt(3),oe=Qt(4),Go=Qt(5),Jo=Qt(6);tn.range;Be.range;Zo.range;Qo.range;oe.range;Go.range;Jo.range;function Gt(t){return gt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/On)}const si=Gt(0),Ze=Gt(1),Ko=Gt(2),ts=Gt(3),se=Gt(4),es=Gt(5),ns=Gt(6);si.range;Ze.range;Ko.range;ts.range;se.range;es.range;ns.range;const Wn=gt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Wn.range;const rs=gt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rs.range;const St=gt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());St.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});St.range;const Zt=gt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Zt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:gt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Zt.range;function is(t,e,n,r,a,i){const s=[[te,1,Rt],[te,5,5*Rt],[te,15,15*Rt],[te,30,30*Rt],[i,1,Mt],[i,5,5*Mt],[i,15,15*Mt],[i,30,30*Mt],[a,1,Nt],[a,3,3*Nt],[a,6,6*Nt],[a,12,12*Nt],[r,1,It],[r,2,2*It],[n,1,On],[e,1,pr],[e,3,3*pr],[t,1,mn]];function c(l,v,f){const o=v<l;o&&([l,v]=[v,l]);const g=f&&typeof f.range=="function"?f:u(l,v,f),h=g?g.range(l,+v+1):[];return o?h.reverse():h}function u(l,v,f){const o=Math.abs(v-l)/f,g=Nn(([,,D])=>D).right(s,o);if(g===s.length)return t.every(bn(l/mn,v/mn,f));if(g===0)return qe.every(Math.max(bn(l,v,f),1));const[h,M]=s[o/s[g-1][2]<s[g][2]/o?g-1:g];return h.every(M)}return[c,u]}const[as,os]=is(St,Wn,tn,Se,Hn,jn);function pn(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function yn(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function ge(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function ss(t){var e=t.dateTime,n=t.date,r=t.time,a=t.periods,i=t.days,s=t.shortDays,c=t.months,u=t.shortMonths,l=me(a),v=pe(a),f=me(i),o=pe(i),g=me(s),h=pe(s),M=me(c),D=pe(c),L=me(u),E=pe(u),_={a:V,A:$,b:P,B:J,c:null,d:br,e:br,f:$s,g:js,G:Ps,H:Cs,I:Ds,j:As,L:ui,m:Es,M:Fs,p:Q,q:et,Q:Sr,s:Cr,S:Us,u:Rs,U:Ns,V:Is,w:Ls,W:Ys,x:null,X:null,y:Os,Y:Hs,Z:Ws,"%":Tr},m={a:rt,A:ut,b:x,B:S,c:null,d:xr,e:xr,f:qs,g:ru,G:au,H:zs,I:Vs,j:Xs,L:ci,m:Bs,M:Zs,p:O,q:N,Q:Sr,s:Cr,S:Qs,u:Gs,U:Js,V:Ks,w:tu,W:eu,x:null,X:null,y:nu,Y:iu,Z:ou,"%":Tr},w={a:Z,A:T,b:k,B:F,c:H,d:kr,e:kr,f:bs,g:wr,G:_r,H:Mr,I:Mr,j:_s,L:Ms,m:ys,M:ws,p:G,q:ps,Q:Ts,s:Ss,S:ks,u:ds,U:vs,V:hs,w:fs,W:gs,x:A,X:U,y:wr,Y:_r,Z:ms,"%":xs};_.x=b(n,_),_.X=b(r,_),_.c=b(e,_),m.x=b(n,m),m.X=b(r,m),m.c=b(e,m);function b(p,R){return function(W){var y=[],C=-1,z=0,K=p.length,it,ft,dt;for(W instanceof Date||(W=new Date(+W));++C<K;)p.charCodeAt(C)===37&&(y.push(p.slice(z,C)),(ft=yr[it=p.charAt(++C)])!=null?it=p.charAt(++C):ft=it==="e"?" ":"0",(dt=R[it])&&(it=dt(W,ft)),y.push(it),z=C+1);return y.push(p.slice(z,C)),y.join("")}}function I(p,R){return function(W){var y=ge(1900,void 0,1),C=X(y,p,W+="",0),z,K;if(C!=W.length)return null;if("Q"in y)return new Date(y.Q);if("s"in y)return new Date(y.s*1e3+("L"in y?y.L:0));if(R&&!("Z"in y)&&(y.Z=0),"p"in y&&(y.H=y.H%12+y.p*12),y.m===void 0&&(y.m="q"in y?y.q:0),"V"in y){if(y.V<1||y.V>53)return null;"w"in y||(y.w=1),"Z"in y?(z=yn(ge(y.y,0,1)),K=z.getUTCDay(),z=K>4||K===0?Ze.ceil(z):Ze(z),z=Pn.offset(z,(y.V-1)*7),y.y=z.getUTCFullYear(),y.m=z.getUTCMonth(),y.d=z.getUTCDate()+(y.w+6)%7):(z=pn(ge(y.y,0,1)),K=z.getDay(),z=K>4||K===0?Be.ceil(z):Be(z),z=Se.offset(z,(y.V-1)*7),y.y=z.getFullYear(),y.m=z.getMonth(),y.d=z.getDate()+(y.w+6)%7)}else("W"in y||"U"in y)&&("w"in y||(y.w="u"in y?y.u%7:"W"in y?1:0),K="Z"in y?yn(ge(y.y,0,1)).getUTCDay():pn(ge(y.y,0,1)).getDay(),y.m=0,y.d="W"in y?(y.w+6)%7+y.W*7-(K+5)%7:y.w+y.U*7-(K+6)%7);return"Z"in y?(y.H+=y.Z/100|0,y.M+=y.Z%100,yn(y)):pn(y)}}function X(p,R,W,y){for(var C=0,z=R.length,K=W.length,it,ft;C<z;){if(y>=K)return-1;if(it=R.charCodeAt(C++),it===37){if(it=R.charAt(C++),ft=w[it in yr?R.charAt(C++):it],!ft||(y=ft(p,W,y))<0)return-1}else if(it!=W.charCodeAt(y++))return-1}return y}function G(p,R,W){var y=l.exec(R.slice(W));return y?(p.p=v.get(y[0].toLowerCase()),W+y[0].length):-1}function Z(p,R,W){var y=g.exec(R.slice(W));return y?(p.w=h.get(y[0].toLowerCase()),W+y[0].length):-1}function T(p,R,W){var y=f.exec(R.slice(W));return y?(p.w=o.get(y[0].toLowerCase()),W+y[0].length):-1}function k(p,R,W){var y=L.exec(R.slice(W));return y?(p.m=E.get(y[0].toLowerCase()),W+y[0].length):-1}function F(p,R,W){var y=M.exec(R.slice(W));return y?(p.m=D.get(y[0].toLowerCase()),W+y[0].length):-1}function H(p,R,W){return X(p,e,R,W)}function A(p,R,W){return X(p,n,R,W)}function U(p,R,W){return X(p,r,R,W)}function V(p){return s[p.getDay()]}function $(p){return i[p.getDay()]}function P(p){return u[p.getMonth()]}function J(p){return c[p.getMonth()]}function Q(p){return a[+(p.getHours()>=12)]}function et(p){return 1+~~(p.getMonth()/3)}function rt(p){return s[p.getUTCDay()]}function ut(p){return i[p.getUTCDay()]}function x(p){return u[p.getUTCMonth()]}function S(p){return c[p.getUTCMonth()]}function O(p){return a[+(p.getUTCHours()>=12)]}function N(p){return 1+~~(p.getUTCMonth()/3)}return{format:function(p){var R=b(p+="",_);return R.toString=function(){return p},R},parse:function(p){var R=I(p+="",!1);return R.toString=function(){return p},R},utcFormat:function(p){var R=b(p+="",m);return R.toString=function(){return p},R},utcParse:function(p){var R=I(p+="",!0);return R.toString=function(){return p},R}}}var yr={"-":"",_:" ",0:"0"},pt=/^\s*\d+/,us=/^%/,ls=/[\\^$*+?|[\]().{}]/g;function nt(t,e,n){var r=t<0?"-":"",a=(r?-t:t)+"",i=a.length;return r+(i<n?new Array(n-i+1).join(e)+a:a)}function cs(t){return t.replace(ls,"\\$&")}function me(t){return new RegExp("^(?:"+t.map(cs).join("|")+")","i")}function pe(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function fs(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function ds(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function vs(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function hs(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function gs(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function _r(t,e,n){var r=pt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function wr(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function ms(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function ps(t,e,n){var r=pt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function ys(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function kr(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function _s(t,e,n){var r=pt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Mr(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function ws(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ks(t,e,n){var r=pt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ms(t,e,n){var r=pt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function bs(t,e,n){var r=pt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function xs(t,e,n){var r=us.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Ts(t,e,n){var r=pt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Ss(t,e,n){var r=pt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function br(t,e){return nt(t.getDate(),e,2)}function Cs(t,e){return nt(t.getHours(),e,2)}function Ds(t,e){return nt(t.getHours()%12||12,e,2)}function As(t,e){return nt(1+Se.count(St(t),t),e,3)}function ui(t,e){return nt(t.getMilliseconds(),e,3)}function $s(t,e){return ui(t,e)+"000"}function Es(t,e){return nt(t.getMonth()+1,e,2)}function Fs(t,e){return nt(t.getMinutes(),e,2)}function Us(t,e){return nt(t.getSeconds(),e,2)}function Rs(t){var e=t.getDay();return e===0?7:e}function Ns(t,e){return nt(tn.count(St(t)-1,t),e,2)}function li(t){var e=t.getDay();return e>=4||e===0?oe(t):oe.ceil(t)}function Is(t,e){return t=li(t),nt(oe.count(St(t),t)+(St(t).getDay()===4),e,2)}function Ls(t){return t.getDay()}function Ys(t,e){return nt(Be.count(St(t)-1,t),e,2)}function Os(t,e){return nt(t.getFullYear()%100,e,2)}function js(t,e){return t=li(t),nt(t.getFullYear()%100,e,2)}function Hs(t,e){return nt(t.getFullYear()%1e4,e,4)}function Ps(t,e){var n=t.getDay();return t=n>=4||n===0?oe(t):oe.ceil(t),nt(t.getFullYear()%1e4,e,4)}function Ws(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+nt(e/60|0,"0",2)+nt(e%60,"0",2)}function xr(t,e){return nt(t.getUTCDate(),e,2)}function zs(t,e){return nt(t.getUTCHours(),e,2)}function Vs(t,e){return nt(t.getUTCHours()%12||12,e,2)}function Xs(t,e){return nt(1+Pn.count(Zt(t),t),e,3)}function ci(t,e){return nt(t.getUTCMilliseconds(),e,3)}function qs(t,e){return ci(t,e)+"000"}function Bs(t,e){return nt(t.getUTCMonth()+1,e,2)}function Zs(t,e){return nt(t.getUTCMinutes(),e,2)}function Qs(t,e){return nt(t.getUTCSeconds(),e,2)}function Gs(t){var e=t.getUTCDay();return e===0?7:e}function Js(t,e){return nt(si.count(Zt(t)-1,t),e,2)}function fi(t){var e=t.getUTCDay();return e>=4||e===0?se(t):se.ceil(t)}function Ks(t,e){return t=fi(t),nt(se.count(Zt(t),t)+(Zt(t).getUTCDay()===4),e,2)}function tu(t){return t.getUTCDay()}function eu(t,e){return nt(Ze.count(Zt(t)-1,t),e,2)}function nu(t,e){return nt(t.getUTCFullYear()%100,e,2)}function ru(t,e){return t=fi(t),nt(t.getUTCFullYear()%100,e,2)}function iu(t,e){return nt(t.getUTCFullYear()%1e4,e,4)}function au(t,e){var n=t.getUTCDay();return t=n>=4||n===0?se(t):se.ceil(t),nt(t.getUTCFullYear()%1e4,e,4)}function ou(){return"+0000"}function Tr(){return"%"}function Sr(t){return+t}function Cr(t){return Math.floor(+t/1e3)}var Jt,zn;su({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function su(t){return Jt=ss(t),zn=Jt.format,Jt.parse,Jt.utcFormat,Jt.utcParse,Jt}function uu(t){return new Date(t)}function lu(t){return t instanceof Date?+t:+new Date(+t)}function di(t,e,n,r,a,i,s,c,u,l){var v=oi(),f=v.invert,o=v.domain,g=l(".%L"),h=l(":%S"),M=l("%I:%M"),D=l("%I %p"),L=l("%a %d"),E=l("%b %d"),_=l("%B"),m=l("%Y");function w(b){return(u(b)<b?g:c(b)<b?h:s(b)<b?M:i(b)<b?D:r(b)<b?a(b)<b?L:E:n(b)<b?_:m)(b)}return v.invert=function(b){return new Date(f(b))},v.domain=function(b){return arguments.length?o(Array.from(b,lu)):o().map(uu)},v.ticks=function(b){var I=o();return t(I[0],I[I.length-1],b??10)},v.tickFormat=function(b,I){return I==null?w:l(I)},v.nice=function(b){var I=o();return(!b||typeof b.range!="function")&&(b=e(I[0],I[I.length-1],b??10)),b?o(Vo(I,b)):v},v.copy=function(){return ai(v,di(t,e,n,r,a,i,s,c,u,l))},v}function cu(){return ii.apply(di(as,os,St,Wn,tn,Se,Hn,jn,te,zn).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function mt(t){return function(){return t}}function vi(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new To(e)}function hi(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function gi(t){this._context=t}gi.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mi(t){return new gi(t)}function pi(t){return t[0]}function yi(t){return t[1]}function _i(t,e){var n=mt(!0),r=null,a=mi,i=null,s=vi(c);t=typeof t=="function"?t:t===void 0?pi:mt(t),e=typeof e=="function"?e:e===void 0?yi:mt(e);function c(u){var l,v=(u=hi(u)).length,f,o=!1,g;for(r==null&&(i=a(g=s())),l=0;l<=v;++l)!(l<v&&n(f=u[l],l,u))===o&&((o=!o)?i.lineStart():i.lineEnd()),o&&i.point(+t(f,l,u),+e(f,l,u));if(g)return i=null,g+""||null}return c.x=function(u){return arguments.length?(t=typeof u=="function"?u:mt(+u),c):t},c.y=function(u){return arguments.length?(e=typeof u=="function"?u:mt(+u),c):e},c.defined=function(u){return arguments.length?(n=typeof u=="function"?u:mt(!!u),c):n},c.curve=function(u){return arguments.length?(a=u,r!=null&&(i=a(r)),c):a},c.context=function(u){return arguments.length?(u==null?r=i=null:i=a(r=u),c):r},c}function fu(t,e,n){var r=null,a=mt(!0),i=null,s=mi,c=null,u=vi(l);t=typeof t=="function"?t:t===void 0?pi:mt(+t),e=typeof e=="function"?e:mt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?yi:mt(+n);function l(f){var o,g,h,M=(f=hi(f)).length,D,L=!1,E,_=new Array(M),m=new Array(M);for(i==null&&(c=s(E=u())),o=0;o<=M;++o){if(!(o<M&&a(D=f[o],o,f))===L)if(L=!L)g=o,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=o-1;h>=g;--h)c.point(_[h],m[h]);c.lineEnd(),c.areaEnd()}L&&(_[o]=+t(D,o,f),m[o]=+e(D,o,f),c.point(r?+r(D,o,f):_[o],n?+n(D,o,f):m[o]))}if(E)return c=null,E+""||null}function v(){return _i().defined(a).curve(s).context(i)}return l.x=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),r=null,l):t},l.x0=function(f){return arguments.length?(t=typeof f=="function"?f:mt(+f),l):t},l.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:mt(+f),l):r},l.y=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),n=null,l):e},l.y0=function(f){return arguments.length?(e=typeof f=="function"?f:mt(+f),l):e},l.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:mt(+f),l):n},l.lineX0=l.lineY0=function(){return v().x(t).y(e)},l.lineY1=function(){return v().x(t).y(n)},l.lineX1=function(){return v().x(r).y(e)},l.defined=function(f){return arguments.length?(a=typeof f=="function"?f:mt(!!f),l):a},l.curve=function(f){return arguments.length?(s=f,i!=null&&(c=s(i)),l):s},l.context=function(f){return arguments.length?(f==null?i=c=null:c=s(i=f),l):i},l}function Dr(t){return t<0?-1:1}function Ar(t,e,n){var r=t._x1-t._x0,a=e-t._x1,i=(t._y1-t._y0)/(r||a<0&&-0),s=(n-t._y1)/(a||r<0&&-0),c=(i*a+s*r)/(r+a);return(Dr(i)+Dr(s))*Math.min(Math.abs(i),Math.abs(s),.5*Math.abs(c))||0}function $r(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function _n(t,e,n){var r=t._x0,a=t._y0,i=t._x1,s=t._y1,c=(i-r)/3;t._context.bezierCurveTo(r+c,a+c*e,i-c,s-c*n,i,s)}function Qe(t){this._context=t}Qe.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_n(this,this._t0,$r(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_n(this,$r(this,n=Ar(this,t,e)),n);break;default:_n(this,this._t0,n=Ar(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};Object.create(Qe.prototype).point=function(t,e){Qe.prototype.point.call(this,e,t)};function Er(t){return new Qe(t)}var du=$n("<svg></svg>"),vu=tt('<div class="no-data svelte-18ikbn7"><p class="svelte-18ikbn7">ÐÐµÐ¼Ð°Ñ Ð´Ð°Ð½Ð¸Ñ Ð´Ð»Ñ Ð²ÑÐ´Ð¾Ð±ÑÐ°Ð¶ÐµÐ½Ð½Ñ</p></div>'),hu=tt('<div class="container svelte-18ikbn7"><!></div>');function gu(t,e){ue(e,!0);const[n,r]=Te(),a=()=>$t(re,"$surveysRaw",n);let i=ne(e,"FILTERS",31,()=>ht({})),s=ne(e,"height",3,120),c=_t(void 0),u=_t(void 0),l=_t(ht([])),v=_t(0),f=_t(null),o=_t(void 0);const g=["01","02","03","04","05","06","07","08","09","10","11","12"],h={top:30,right:15,bottom:16,left:10};let M;xt(()=>{if(d(u)){const k=()=>st(o,d(u).getBoundingClientRect().width,!0);return k(),M=new ResizeObserver(k),M.observe(d(u)),()=>M==null?void 0:M.disconnect()}}),xt(()=>{!i().dateRange&&d(f)&&b()});const D=Tt(()=>()=>(a()||[]).filter(F=>Object.entries(i()).every(([H,A])=>H==="dateRange"?!0:Array.isArray(A)?A.length===0||A.includes(F[H]):F[H]===A))),L=Tt(()=>()=>{const k=d(D)();if(!k.length)return{data:[],maxValue:0};const F={};k.forEach(A=>{const U=A["ÐÐ°ÑÐ° Ð·Ð°Ð¿Ð¾Ð²Ð½ÐµÐ½Ð½Ñ Ð°Ð½ÐºÐµÑÐ¸"];if(U&&U!=="NA"){const V=new Date(U),$=`${V.getFullYear()}-${String(V.getMonth()+1).padStart(2,"0")}`;F[$]=(F[$]||0)+1}});const H=Object.entries(F).map(([A,U])=>({month:A,date:new Date(A+"-01"),count:U})).sort((A,U)=>A.date-U.date);return{data:H,maxValue:Math.max(...H.map(A=>A.count),0)}});xt(()=>{const k=d(L)();st(l,k.data,!0),st(v,k.maxValue,!0)}),xt(()=>{d(c)&&d(l).length>0&&d(o)>0&&w()});function E(k,F){const H=F.invert(k),A=new Date(H.getFullYear(),H.getMonth(),1);return d(l).find(U=>U.date.getFullYear()===A.getFullYear()&&U.date.getMonth()===A.getMonth())||{date:A,count:0}}function _(k,F){return F(k)}function m(k){return`${String(k.getMonth()+1).padStart(2,"0")}.${k.getFullYear()}`}function w(){const k=be(d(c));k.selectAll("*").remove();const F=d(o)-h.left-h.right,H=s()-h.top-h.bottom,A=k.append("g").attr("transform",`translate(${h.left},${h.top})`),U=cu().domain(Wa(d(l),C=>C.date)).range([0,F]),V=Ke().domain([0,Math.max(d(v),1)]).range([H,0]).clamp(!0),$=_i().x(C=>U(C.date)).y(C=>V(Math.max(0,C.count))).curve(Er).defined(C=>C.count>=0),P=fu().x(C=>U(C.date)).y0(V(0)).y1(C=>V(Math.max(0,C.count))).curve(Er).defined(C=>C.count>=0);A.append("path").datum(d(l)).attr("fill","rgba(255, 104, 93, 0.3)").attr("d",P),A.append("path").datum(d(l)).attr("fill","none").attr("stroke","rgb(255, 104, 93)").attr("stroke-width",2).attr("d",$);const J=oo(U).tickFormat(C=>g[C.getMonth()]==="01"?"":g[C.getMonth()]);A.append("g").attr("transform",`translate(0,${H})`).call(J).selectAll("text").style("font-size","8px").style("font-family","Cy Grotesk").style("font-weight","300");const Q=U.ticks(St.every(1));A.selectAll("line.year-line").data(Q).enter().append("line").attr("class","year-line").attr("x1",C=>U(C)).attr("x2",C=>U(C)).attr("y1",0).attr("y2",H).attr("stroke","#000").attr("stroke-width",1);const et=ao(U).ticks(St.every(1)).tickFormat(C=>zn("%Y")(C)+" Ñ.");A.append("g").attr("class","x axis top").call(et).selectAll("text").style("font-size","10px").style("font-family","Cy Grotesk").style("text-anchor","middle").attr("dy","-10px"),A.select(".x.axis.top").select(".domain").remove();const rt=A.append("g").attr("class","brush-group");let ut=d(f)?U(d(f).start):F*.3,x=d(f)?U(d(f).end):F*.7;const S=rt.append("rect").attr("class","selection-rect").attr("y",0).attr("height",H).style("cursor","default").style("pointer-events","none"),O=rt.append("rect").attr("class","left-handle").attr("y",0).attr("height",H).attr("opacity",0).style("cursor","ew-resize"),N=rt.append("rect").attr("class","right-handle").attr("y",0).attr("height",H).attr("opacity",0).style("cursor","ew-resize"),p=rt.append("text").attr("class","selection-text").attr("y",-5).attr("text-anchor","middle").style("font-size","10px");let R=null;d(f)&&(R=rt.append("g").attr("class","clear-button").style("cursor","pointer"),R.append("circle").attr("cx",F-15).attr("cy",14).attr("r",8).attr("fill","#0064c8"),R.append("text").attr("x",F-15).attr("y",19).attr("text-anchor","middle").style("font-size","16px").style("fill","white").style("font-weight","bold").text("Ã"));function W(){let C=ut,z=x;if(d(f)){const ft=E(ut,U),dt=E(x,U);ft&&dt&&(C=_(ft.date,U),z=_(dt.date,U))}const K=z-C,it=K*.5;if(S.attr("x",C).attr("width",K),O.attr("x",C-5).attr("width",it+5),N.attr("x",z-it).attr("width",it+5),p.attr("x",(C+z)/2),d(f)){const ft=E(ut,U),dt=E(x,U);S.attr("fill","rgba(0, 100, 200, 0.2)").attr("stroke","rgba(0, 100, 200, 0.8)"),O.attr("fill","#0064c8"),N.attr("fill","#0064c8"),p.style("fill","#0064c8").text(`${m(ft.date)} - ${m(dt.date)}`),p.style("font-family","Cy Grotesk")}else S.attr("fill","rgba(150, 150, 150, 0.3)").attr("stroke","rgba(150, 150, 150, 0.5)"),O.attr("fill","#999"),N.attr("fill","#999"),p.style("fill","#999").text("ÐÐ±ÐµÑÑÑÑ Ð´ÑÐ°Ð¿Ð°Ð·Ð¾Ð½"),p.style("font-family","Cy Grotesk")}function y(){const C=E(ut,U),z=E(x,U);if(C&&z&&C.date.getTime()!==z.date.getTime()){const K=C.date<z.date?C.date:z.date,it=C.date<z.date?z.date:C.date;st(f,{start:new Date(K.getFullYear(),K.getMonth(),1),end:new Date(it.getFullYear(),it.getMonth()+1,0,23,59,59,999)},!0);const ft=d(f).start.toISOString().split("T")[0],dt=d(f).end.toISOString().split("T")[0];i({...i(),dateRange:{start:ft,end:dt}})}else{st(f,null);const K={...i()};delete K.dateRange,i(K)}W()}W(),[O,N].forEach((C,z)=>{C.call(mo().on("start",function(K){this.hasMoved=!1}).on("drag",function(K){const it=Tn(K,A.node())[0],ft=z?Math.max(ut,Math.min(it,F)):Math.max(0,Math.min(it,x));this.hasMoved=!0;const dt=E(ft,U);dt&&(z?x=_(dt.date,U):ut=_(dt.date,U),W())}).on("end",function(){this.hasMoved&&y()}))}),R&&R.on("click",()=>b())}function b(){st(f,null);const k={...i()};delete k.dateRange,i(k),d(c)&&w()}var I=hu(),X=j(I);{var G=k=>{var F=du();He(F,H=>st(c,H),()=>d(c)),ct(()=>{zt(F,"width",d(o)),zt(F,"height",s())}),B(k,F)},Z=k=>{var F=vu();B(k,F)};lt(X,k=>{d(l).length>0?k(G):k(Z,!1)})}Y(I),He(I,k=>st(u,k),()=>d(u)),B(t,I);var T=le({clearSelection:b});return r(),T}const mu=t=>t;function pu(t){const e=t-1;return e*e*e+1}function Fr(t,{delay:e=0,duration:n=400,easing:r=mu}={}){const a=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:i=>`opacity: ${i*a}`}}function Ur(t,e){for(const n in e)t[n]=e[n];return t}function yu({fallback:t,...e}){const n=new Map,r=new Map;function a(s,c,u){const{delay:l=0,duration:v=b=>Math.sqrt(b)*30,easing:f=pu}=Ur(Ur({},e),u),o=s.getBoundingClientRect(),g=c.getBoundingClientRect(),h=o.left-g.left,M=o.top-g.top,D=o.width/g.width,L=o.height/g.height,E=Math.sqrt(h*h+M*M),_=getComputedStyle(c),m=_.transform==="none"?"":_.transform,w=+_.opacity;return{delay:l,duration:typeof v=="function"?v(E):v,easing:f,css:(b,I)=>`
			   opacity: ${b*w};
			   transform-origin: top left;
			   transform: ${m} translate(${I*h}px,${I*M}px) scale(${b+(1-b)*D}, ${b+(1-b)*L});
		   `}}function i(s,c,u){return(l,v)=>(s.set(v.key,l),()=>{if(c.has(v.key)){const f=c.get(v.key);return c.delete(v.key),a(f,l,v)}return s.delete(v.key),t&&t(l,v,u)})}return[i(r,n,!1),i(n,r,!0)]}function wi(t){return--t*t*t*t*t+1}const[_u,wu]=yu({delay:5,duration:500,easing:wi,fallback(){return{delay:100,duration:300,css:t=>`opacity: ${t};`}}}),ki=(t,e)=>e!=null&&e.noAnimation?{duration:0}:_u(t,e),Mi=(t,e)=>e!=null&&e.noAnimation?{duration:0}:wu(t,e);function ku(t,{region:e,animationData:n}){if(!n[e])return{duration:0};const a=document.getElementById(e);if(!a)return{duration:0};const i=a.getBoundingClientRect(),s=t.getBoundingClientRect(),c=i.left-s.left,u=i.top-s.top,l=s.width?i.width/s.width:1,v=s.height?i.height/s.height:1,f=Math.min(l,v);let o=t.parentElement,g=null;for(;o;){const h=window.getComputedStyle(o);if(h.overflow!=="visible"||h.overflowY!=="visible"){g=h.overflow;break}o=o.parentElement}return{delay:1,duration:500,easing:wi,tick:h=>{h<.95&&o?o.style.overflow="visible":h>=.95&&o&&g&&(o.style.overflow=g)},css:h=>{const M=c*(1-h),D=u*(1-h),L=f+(1-f)*h;return`
                transform: translate(${M}px, ${D}px) scale(${L});
                opacity: ${Math.min(1,h+.3)};
                position: relative;
            `}}}var Mu=(t,e,n)=>d(e).percentText!=="0%"&&n(d(e),t),bu=tt('<div role="button"><p class="svelte-k2itjd"> </p> <div class="horizontal-bar svelte-k2itjd"></div> <p class="horizontal-label svelte-k2itjd"> </p></div>'),xu=tt('<div class="horizontal-bars svelte-k2itjd"></div>'),Tu=(t,e,n)=>d(e).percentText!=="0%"&&n(d(e),t),Su=tt('<p class="svelte-k2itjd"> </p>'),Cu=tt('<p class="bar-text-outside svelte-k2itjd"> </p>'),Du=tt('<div role="button"><p class="bar-label svelte-k2itjd"> </p> <div class="bar-wrapper svelte-k2itjd"><div class="bar svelte-k2itjd"><!></div> <!></div></div>'),Au=tt('<div><p class="question svelte-k2itjd" role="button" tabindex="0"> </p> <!></div>'),$u=tt('<div class="questionContainer svelte-k2itjd"></div>');function Eu(t,e){ue(e,!0);let n=ne(e,"FILTERS",7),r=Tt(()=>In(e.filteredData,o=>o.question)),a=Tt(()=>new Map(Array.from(d(r)).map(([o,g])=>{const h=Jr(g,D=>D.freq)||0,M=Ke().domain([0,h]).range([0,200]);return[o,M]}))),i=ht(new Map);xt(()=>{i.clear();const o=new Map,g=new Map;e.filteredData.forEach(h=>{o.has(h.question)||o.set(h.question,[]),o.get(h.question).push(h)}),o.forEach((h,M)=>{const D=h.reduce((L,E)=>L+E.freq,0);i.set(M,D)}),e.filteredData.forEach(h=>{const M=i.get(h.question)||0;if(h.freq===0||M===0){g.set(h,{percentText:"0%",showOutsideText:!0});return}const D=Math.round(h.freq/M*100),L=D===0?"<1%":D+"%",E=d(a).get(h.question)(h.freq);g.set(h,{percentText:L,showOutsideText:E<40||D===0})}),g.forEach((h,M)=>{Object.assign(M,h)})});function s(o,g){var h,M;g.stopPropagation(),o.selected=!o.selected,o.selected?((h=n())[M=o.question]??(h[M]=[]),n()[o.question].includes(o.answer)||n()[o.question].push(o.answer)):n()[o.question]&&(n()[o.question]=n()[o.question].filter(D=>D!==o.answer),n()[o.question].length===0&&delete n()[o.question])}function c(o){return e.filteredData.filter(g=>g.question===o).some(g=>g.freq>0)}function u(o){return ma.some(g=>o.includes(g))}function l(o){return pa.get(o)||"#FF685D"}function v(o){return o.sort((g,h)=>{const M=Pe.indexOf(g.answer),D=Pe.indexOf(h.answer),L=M!==-1,E=D!==-1;if(L&&E)return M-D;if(L&&!E)return g.freq>=h.freq?-1:1;if(!L&&E)return h.freq>=g.freq?1:-1;const _=parseFloat(g.answer),m=parseFloat(h.answer);return!isNaN(_)&&!isNaN(m)?_-m:h.freq-g.freq})}var f=$u();At(f,21,()=>d(r),ke,(o,g)=>{let h=()=>d(g)[0];var M=ye(),D=Wt(M);{var L=E=>{var _=Au();let m;var w=j(_),b=j(w,!0);Y(w);var I=q(w,2);{var X=Z=>{var T=xu();At(T,21,()=>v(e.filteredData.filter(k=>k.question===h())),k=>k.id,(k,F)=>{var H=ye(),A=Wt(H);nr(A,()=>d(F).id,U=>{var V=bu();let $;V.__click=[Mu,F,s];var P=j(V),J=j(P,!0);Y(P);var Q=q(P,2),et=q(Q,2),rt=j(et,!0);Y(et),Y(V),ct((ut,x,S)=>{$=kt(V,1,"horizontal-answer svelte-k2itjd",null,$,ut),zt(V,"tabindex",d(F).percentText==="0%"?-1:0),ot(J,d(F).percentText),ie(Q,`height: ${x??""}px; background-color: ${S??""};`),ot(rt,d(F).answer)},[()=>({selected:d(F).selected,inactive:d(F).percentText==="0%"}),()=>d(a).get(d(F).question)(d(F).freq),()=>l(d(F).answer)]),B(U,V)}),B(k,H)}),Y(T),B(Z,T)},G=Z=>{var T=ye(),k=Wt(T);At(k,17,()=>v(e.filteredData.filter(F=>F.question===h())),F=>F.id,(F,H)=>{var A=ye(),U=Wt(A);nr(U,()=>d(H).id,V=>{var $=Du();let P;$.__click=[Tu,H,s];var J=j($),Q=j(J,!0);Y(J);var et=q(J,2),rt=j(et),ut=j(rt);{var x=N=>{var p=Su(),R=j(p,!0);Y(p),ct(()=>ot(R,d(H).percentText)),Bt(3,p,()=>Fr),B(N,p)};lt(ut,N=>{!d(H).showOutsideText&&d(H).percentText&&d(a).get(d(H).question)(d(H).freq)>=20&&N(x)})}Y(rt);var S=q(rt,2);{var O=N=>{var p=Cu(),R=j(p,!0);Y(p),ct(()=>ot(R,d(H).percentText)),Bt(3,p,()=>Fr),B(N,p)};lt(S,N=>{d(H).showOutsideText&&d(H).percentText&&N(O)})}Y(et),Y($),ct((N,p,R)=>{P=kt($,1,"answer svelte-k2itjd",null,P,N),zt($,"tabindex",d(H).percentText==="0%"?-1:0),ot(Q,d(H).answer),ie(rt,`width: ${p??""}px; background-color: ${R??""};`)},[()=>({selected:d(H).selected,inactive:d(H).percentText==="0%"}),()=>d(a).get(d(H).question)(d(H).freq),()=>l(d(H).answer)]),B(V,$)}),B(F,A)}),B(Z,T)};lt(I,Z=>{u(h())?Z(X):Z(G,!1)})}Y(_),ct(Z=>{m=kt(_,1,"conQ svelte-k2itjd",null,m,Z),ot(b,h())},[()=>({"horizontal-question":u(h())})]),Bt(1,_,()=>Mi,()=>({key:h(),noAnimation:e.isMobile})),Bt(2,_,()=>ki,()=>({key:h(),noAnimation:e.isMobile})),B(E,_)};lt(D,E=>{!Wr.includes(h())&&c(h())&&!(n()[h()]&&n()[h()].length>0)&&E(L)})}B(o,M)}),Y(f),B(t,f),le()}Je(["click"]);var Fu=(t,e,n)=>e(n()),Uu=tt('<button class="reset-button svelte-7fh2f2">â</button>'),Ru=(t,e,n)=>d(e).freq!==0&&n(d(e),t),Nu=tt('<div role="button"><div><p> </p> <p> </p> <div class="bar svelte-7fh2f2"></div></div> <p> </p> <p> </p></div>'),Iu=tt('<div class="ver-line svelte-7fh2f2"></div>'),Lu=tt('<div><div class="question-header svelte-7fh2f2"><p> </p> <!></div> <div class="chart-container svelte-7fh2f2"></div></div> <!>',1),Yu=tt('<div class="questionContainer svelte-7fh2f2"></div>');function Ou(t,e){ue(e,!0);const[n,r]=Te(),a=()=>$t(re,"$surveysRaw",n);let i=ne(e,"FILTERS",31,()=>ht({})),s=Tt(()=>{const o=[];let g=1;return["ÐÑÐº","Ð¡ÑÐ°ÑÑ"].forEach(h=>{const M=Object.fromEntries(Object.entries(i()).filter(([_])=>_!==h)),D=a().filter(_=>Object.entries(M).every(([m,w])=>{if(m==="dateRange"){const b=_["ÐÐ°ÑÐ° Ð·Ð°Ð¿Ð¾Ð²Ð½ÐµÐ½Ð½Ñ Ð°Ð½ÐºÐµÑÐ¸"];if(!b||b==="NA")return!1;const I=new Date(b);return I>=new Date(w.start)&&I<=new Date(w.end)}return Array.isArray(w)?w.length===0||w.includes(_[m]):_[m]===w})),L=new Set;a().forEach(_=>{const m=_[h];m&&m!=="NA"&&L.add(m)}),Array.from(L).forEach(_=>{var w;const m=D.filter(b=>b[h]===_).length;o.push({id:g++,question:h,answer:_,freq:m,selected:((w=i()[h])==null?void 0:w.includes(_))||!1})})}),o}),c=Tt(()=>In(d(s),o=>o.question)),u=Tt(()=>new Map(Array.from(d(c)).map(([o,g])=>{const h=Jr(g,D=>D.freq)||0,M=Ke().domain([0,h]).range([0,150]);return[o,M]})));function l(o,g){g.stopPropagation(),i()[o.question]||i(i()[o.question]=[],!0),o.selected?(i(i()[o.question]=i()[o.question].filter(h=>h!==o.answer),!0),i()[o.question].length===0&&delete i()[o.question]):i()[o.question].push(o.answer)}function v(o){delete i()[o]}var f=Yu();At(f,21,()=>d(c),ke,(o,g,h)=>{let M=()=>d(g)[0],D=()=>d(g)[1];var L=Lu(),E=Wt(L);kt(E,1,"question-section svelte-7fh2f2",null,{},{"question-section-mobile":h===1});var _=j(E),m=j(_);kt(m,1,"question svelte-7fh2f2",null,{},{"question-mobile":h===0});var w=j(m,!0);Y(m);var b=q(m,2);{var I=T=>{var k=Uu();k.__click=[Fu,v,M],ct(()=>zt(k,"title",`Ð¡ÐºÐ¸Ð½ÑÑÐ¸ ÑÑÐ»ÑÑÑÐ¸ Ð´Ð»Ñ ${M()??""}`)),B(T,k)};lt(b,T=>{var k;((k=i()[M()])==null?void 0:k.length)>0&&T(I)})}Y(_);var X=q(_,2);At(X,21,D,T=>T.id,(T,k)=>{var F=Nu();let H;F.__click=[Ru,k,l];var A=j(F);kt(A,1,"bar-wrapper svelte-7fh2f2",null,{},{"bar-wrapper-mobile":h===1});var U=j(A);let V;var $=j(U,!0);Y(U);var P=q(U,2);let J;var Q=j(P,!0);Y(P);var et=q(P,2);Y(A);var rt=q(A,2);let ut;var x=j(rt,!0);Y(rt);var S=q(rt,2);let O;var N=j(S,!0);Y(S),Y(F),ct((p,R,W,y,C,z,K)=>{H=kt(F,1,"answer svelte-7fh2f2",null,H,p),zt(F,"tabindex",d(k).freq===0?-1:0),V=kt(U,1,"bar-text-outside desktop svelte-7fh2f2",null,V,R),ot($,d(k).freq),J=kt(P,1,"bar-label mobile svelte-7fh2f2",null,J,W),ot(Q,d(k).answer),ie(et,`height: ${y??""}px; --bar-width: ${C??""}`),ut=kt(rt,1,"bar-text-outside mobile svelte-7fh2f2",null,ut,z),ot(x,d(k).freq),O=kt(S,1,"bar-label desktop svelte-7fh2f2",null,O,K),ot(N,d(k).answer)},[()=>{var p;return{"answer-mobile":h===1,selected:d(k).selected,dimmed:!d(k).selected&&((p=i()[d(k).question])==null?void 0:p.length)>0,inactive:d(k).freq===0}},()=>{var p;return{selected:d(k).selected,dimmed:!d(k).selected&&((p=i()[d(k).question])==null?void 0:p.length)>0}},()=>{var p;return{"bar-label-first":h===0,selected:d(k).selected,dimmed:!d(k).selected&&((p=i()[d(k).question])==null?void 0:p.length)>0}},()=>d(u).get(d(k).question)(d(k).freq),()=>d(u).get(d(k).question)(d(k).freq)*100/150,()=>{var p;return{selected:d(k).selected,dimmed:!d(k).selected&&((p=i()[d(k).question])==null?void 0:p.length)>0}},()=>{var p;return{selected:d(k).selected,dimmed:!d(k).selected&&((p=i()[d(k).question])==null?void 0:p.length)>0}}]),B(T,F)}),Y(X),Y(E);var G=q(E,2);{var Z=T=>{var k=Iu();B(T,k)};lt(G,T=>{h===0&&T(Z)})}ct(()=>ot(w,M())),B(o,L)}),Y(f),B(t,f),le(),r()}Je(["click"]);const en=ca(!1),bi=(t,e={})=>{if(!t.target.id)return;const{regionName:n,tooltips:r,districtCounts:a,regionCounts:i,setTooltipRegion:s,setTooltipCount:c}=e;n&&r&&a&&(r[n]={show:!0,region:t.target.id,count:a[`${n}:${t.target.id}`]||0,x:t.clientX+10,y:t.clientY-10}),s&&c&&i&&(s(t.target.id),c(i[t.target.id]||0),en.set(!0))},xi=(t,e={})=>{var s;const{regionName:n,tooltips:r,setTooltipX:a,setTooltipY:i}=e;n&&r&&((s=r[n])!=null&&s.show)&&(r[n].x=t.clientX+10,r[n].y=t.clientY-10),a&&i&&en.subscribe(c=>{c&&(a(t.clientX+10),i(t.clientY-10))})()},Ti=(t=null,e=null)=>{t&&e&&e[t]?e[t].show=!1:en.set(!1)},Si=t=>{if(t===1)return"Ð°Ð½ÐºÐµÑÐ°";if(t>=2&&t<=4)return"Ð°Ð½ÐºÐµÑÐ¸";if(t>=5&&t<=20)return"Ð°Ð½ÐºÐµÑ";const e=t%10,n=t%100;return n>=11&&n<=19?"Ð°Ð½ÐºÐµÑ":e===1?"Ð°Ð½ÐºÐµÑÐ°":e>=2&&e<=4?"Ð°Ð½ÐºÐµÑÐ¸":"Ð°Ð½ÐºÐµÑ"};var ju=tt('<button class="clear-all-button svelte-vyy5kd" title="Ð¡ÐºÐ¸Ð½ÑÑÐ¸ ÑÑÐ»ÑÑÑÐ¸">Ð¡ÐºÐ¸Ð½ÑÑÐ¸ ÑÑÐ»ÑÑÑÐ¸</button>'),Hu=(t,e,n)=>e(d(n)),Pu=tt('<button class="remove-button svelte-vyy5kd" title="ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¾Ð±Ð»Ð°ÑÑÑ">â</button>'),Wu=tt('<p class="region-name svelte-vyy5kd"> </p>'),zu=(t,e,n)=>e(d(n)),Vu=(t,e,n)=>e(d(n)),Xu=(t,e)=>e(""),qu=(t,e,n)=>e(d(n)),Bu=tt("<li> </li>"),Zu=tt('<ul class="school-selector svelte-vyy5kd"><li>Ð£ÑÑ ÑÐºÐ¾Ð»Ð¸</li> <!></ul>'),Qu=tt('<div style="display: flex; gap: 5px;"><button class="remove-button svelte-vyy5kd" title="ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ ÑÐ°Ð¹Ð¾Ð½">â</button> <div class="district svelte-vyy5kd"><p class="svelte-vyy5kd"> </p> <div class="school-selector-container svelte-vyy5kd"><div class="toggle-section svelte-vyy5kd"><button class="toggle-button svelte-vyy5kd" title="Ð¨ÐºÐ¾Ð»Ð¸"><p class="svelte-vyy5kd"> </p> <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="7" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-width="2" d="M1.5 6 7 1.5M12.5 6 7 1.5"></path></svg></span></button></div> <!></div></div></div>'),Gu=tt('<div class="selected-districts svelte-vyy5kd"></div>'),Ju=tt('<div class="tooltip svelte-vyy5kd"><p class="tooltip-region svelte-vyy5kd"> </p> <p class="tooltip-count svelte-vyy5kd"> </p></div>'),Ku=tt("<!> <!>",1),tl=tt('<div class="loading svelte-vyy5kd">ÐÐ°Ð²Ð°Ð½ÑÐ°Ð¶ÐµÐ½Ð½Ñ...</div>'),el=tt('<div class="region-section region-mobile svelte-vyy5kd"><!> <div><!> <!></div> <div class="svg-container svelte-vyy5kd"><!></div></div>'),nl=(t,e,n)=>e(n()),rl=(t,e,n)=>e(n()),il=(t,e,n)=>e(d(n)),al=tt('<div class="answer-item"><label class="checkbox-label svelte-vyy5kd"><input type="checkbox" class="svelte-vyy5kd"> <p> </p></label></div>'),ol=tt('<div class="answers-container svelte-vyy5kd"></div>'),sl=tt('<div class="question-section svelte-vyy5kd"><div class="question-header svelte-vyy5kd"><button class="remove-button svelte-vyy5kd" title="ÐÐ¸Ð´Ð°Ð»Ð¸ÑÐ¸ Ð¿Ð¸ÑÐ°Ð½Ð½Ñ">â</button> <p class="question-name svelte-vyy5kd"> </p></div> <div class="toggle-section svelte-vyy5kd"><button class="toggle-button svelte-vyy5kd" title="ÐÑÐ´Ð¿Ð¾Ð²ÑÐ´Ñ"><p class="svelte-vyy5kd"> </p> <span><svg xmlns="http://www.w3.org/2000/svg" width="14" height="7" fill="none"><path stroke="#fff" stroke-linecap="round" stroke-width="2" d="M1.5 6 7 1.5M12.5 6 7 1.5"></path></svg></span></button></div> <!></div>'),ul=tt('<div class="filters-header svelte-vyy5kd"><h2 class="svelte-vyy5kd">ÐÐ±ÑÐ°Ð½Ñ ÑÑÐ»ÑÑÑÐ¸</h2> <!></div> <!> <!>',1);function Rr(t,e){ue(e,!0);const[n,r]=Te(),a=()=>$t(we,"$selectedRegion",n),i=()=>$t(he,"$selectedDistrict",n),s=()=>$t(re,"$surveysRaw",n),c=()=>$t(We,"$regionAnimationData",n);let u=ne(e,"FILTERS",31,()=>ht({})),l=In(e.filteredData,x=>x.question),v=ht({}),f=ht({}),o=ht({}),g=ht({}),h=ht({}),M=ht({});Xr(()=>{D()});async function D(){const x=Object.entries(ya).map(async([S,O])=>{try{const N=await fetch(`${Vr}/img/districts/${O}.svg`);if(!N.ok)throw new Error("Failed to load SVG");const p=await N.text();g[S]=p}catch(N){console.error(`Error preloading SVG for ${S}:`,N)}});await Promise.all(x)}async function L(x){g[x]&&(await Ne(),I(x))}xt(()=>{Array.isArray(a())&&a().forEach(x=>{f[x]??(f[x]=!0),L(x)})});function E(x,S){x.preventDefault(),x.stopPropagation();const O=x.target.id;if(!O)return;const N=`${S}:${O}`;if((d(_)[N]||0)===0)return;const R=[...i()||[]],y=R.includes(N)?R.filter(C=>C!==N):[...R,N];he.set(y),y.length>0?u(u().Ð Ð°Ð¹Ð¾Ð½=y.map(C=>C.split(":")[1]),!0):delete u().Ð Ð°Ð¹Ð¾Ð½}let _=_t(ht({})),m=_t(ht({}));function w(x,S,O){const{filteredData:N}=Rn(S,O),p={},R={};return x.forEach(W=>{R[W]=0}),N.forEach(W=>{const y=W.ÐÐ±Ð»Ð°ÑÑÑ,C=W.Ð Ð°Ð¹Ð¾Ð½;if(x.includes(y)&&C&&C!=="NA"){const z=`${y}:${C}`;p[z]=(p[z]||0)+1,R[y]=Math.max(R[y],p[z])}}),{districtCounts:p,regionMaxCounts:R}}function b(x){const S=h[x];if(!S)return;const O=S.querySelectorAll("path[id]"),N=i()||[],p=d(m)[x]||0;O.forEach(R=>{if(!R.id)return;const W=`${x}:${R.id}`,y=d(_)[W]||0,C=p>0?y/p:0,z=N.includes(W),K=zr(C);z?Object.assign(R.style,{fill:K,stroke:"#000000",strokeWidth:"1px"}):Object.assign(R.style,{fill:K,stroke:"",strokeWidth:""}),Object.assign(R.style,{cursor:y>0?"pointer":"not-allowed"})})}function I(x){const S=h[x];if(!S)return;const O=S.querySelectorAll("path[id]");O.length!==0&&(O.forEach(N=>{if(!N.id||N._initialized)return;["click","mouseenter","mouseleave","mousemove"].forEach(C=>{const z=N[`_${C}Handler`];z&&N.removeEventListener(C,z)});const p=C=>E(C,x),R=C=>bi(C,{regionName:x,tooltips:M,districtCounts:d(_)}),W=C=>Ti(x,M),y=C=>xi(C,{regionName:x,tooltips:M,svgContainers:h});N.addEventListener("click",p),N.addEventListener("mouseenter",R),N.addEventListener("mouseleave",W),N.addEventListener("mousemove",y),N._clickHandler=p,N._mouseenterHandler=R,N._mouseleaveHandler=W,N._mousemoveHandler=y,N._initialized=!0}),b(x))}function X(x){const S=[...a()||[]].filter(N=>N!==x),O=[...i()||[]].filter(N=>!N.startsWith(`${x}:`));we.set(S),he.set(O),We.update(N=>{const p={...N};return delete p[x],p}),O.length>0?u(u().Ð Ð°Ð¹Ð¾Ð½=O.map(N=>N.split(":")[1]),!0):delete u().Ð Ð°Ð¹Ð¾Ð½,delete f[x],delete h[x],delete M[x],u().ÐÐ±Ð»Ð°ÑÑÑ&&(u(u().ÐÐ±Ð»Ð°ÑÑÑ=u().ÐÐ±Ð»Ð°ÑÑÑ.filter(N=>N!==x),!0),u().ÐÐ±Ð»Ð°ÑÑÑ.length===0&&delete u().ÐÐ±Ð»Ð°ÑÑÑ)}function G(x){const O=[...i()||[]].filter(N=>N!==x);he.set(O),O.length>0?u(u().Ð Ð°Ð¹Ð¾Ð½=O.map(N=>N.split(":")[1]),!0):delete u().Ð Ð°Ð¹Ð¾Ð½}xt(()=>{if(i()&&Object.keys(h).length>0){const S=Object.keys(h),{districtCounts:O,regionMaxCounts:N}=w(S,s(),u());st(_,O,!0),st(m,N,!0)}}),xt(()=>{i()&&Object.keys(h).length>0&&Object.keys(h).forEach(S=>{b(S)})}),xt(()=>{l.forEach((x,S)=>{v[S]??(v[S]=!0)})});function Z(){return Object.keys(u()).length>0}function T(){Object.keys(u()).forEach(x=>delete u()[x]),we.set([]),he.set([]),e.filteredData.forEach(x=>x.selected=!1),Object.keys(v).forEach(x=>{u()[x]||delete v[x]})}function k(x){v[x]=!v[x]}function F(x){var p;x.selected=!x.selected;const{question:S,answer:O,selected:N}=x;N?(u((p=u())[S]??(p[S]=[]),!0),u()[S].includes(O)||u()[S].push(O)):u()[S]&&(u(u()[S]=u()[S].filter(R=>R!==O),!0),u()[S].length===0&&delete u()[S])}function H(x){delete u()[x],delete v[x],e.filteredData.filter(S=>S.question===x).forEach(S=>S.selected=!1)}function A(x){return x.sort((S,O)=>{const N=Pe.indexOf(S.answer),p=Pe.indexOf(O.answer),R=N!==-1,W=p!==-1;if(R&&W)return N-p;if(R&&!W)return S.freq>=O.freq?-1:1;if(!R&&W)return O.freq>=S.freq?1:-1;const y=parseFloat(S.answer),C=parseFloat(O.answer);return!isNaN(y)&&!isNaN(C)?y-C:O.freq-S.freq})}function U(x,S){return s()?[...new Set(s().filter(O=>O.ÐÐ±Ð»Ð°ÑÑÑ===x&&O.Ð Ð°Ð¹Ð¾Ð½===S).map(O=>O.Ð¨ÐºÐ¾Ð»Ð°).filter(O=>O&&O!=="NA"))]:[]}function V(x){if(x==="")delete u().Ð¨ÐºÐ¾Ð»Ð°;else{u(u().Ð¨ÐºÐ¾Ð»Ð°=u().Ð¨ÐºÐ¾Ð»Ð°||[],!0);const S=u().Ð¨ÐºÐ¾Ð»Ð°.indexOf(x);S>-1?u().Ð¨ÐºÐ¾Ð»Ð°.splice(S,1):u().Ð¨ÐºÐ¾Ð»Ð°.push(x),u().Ð¨ÐºÐ¾Ð»Ð°.length===0&&delete u().Ð¨ÐºÐ¾Ð»Ð°}}function $(x){o[x]=!o[x]}var P=ul(),J=Wt(P),Q=q(j(J),2);{var et=x=>{var S=ju();S.__click=T,B(x,S)};lt(Q,x=>{Z()&&x(et)})}Y(J);var rt=q(J,2);At(rt,1,()=>a()&&Array.isArray(a())?a():[],x=>x,(x,S)=>{var O=el();const N=Tt(()=>i().some(at=>at.startsWith(d(S)+":")));var p=j(O);{var R=at=>{var vt=Pu();vt.__click=[Hu,X,S],B(at,vt)};lt(p,at=>{d(N)||at(R)})}var W=q(p,2),y=j(W);{var C=at=>{var vt=Wu(),Ct=j(vt,!0);Y(vt),ct(()=>ot(Ct,d(S))),B(at,vt)};lt(y,at=>{d(N)||at(C)})}var z=q(y,2);{var K=at=>{var vt=Gu();At(vt,5,()=>i().filter(Ct=>Ct.startsWith(d(S)+":")),ke,(Ct,bt)=>{var Vt=Qu();const Lt=Tt(()=>d(bt).split(":")[1]);var wt=j(Vt);wt.__click=[zu,G,bt];var Dt=q(wt,2),Et=j(Dt),Ft=j(Et);Y(Et);var Yt=q(Et,2),Ot=j(Yt),jt=j(Ot);jt.__click=[Vu,$,bt];var Xt=j(jt),Ce=j(Xt);Y(Xt);var nn=q(Xt,2);let De;Y(jt),Y(Ot);var Ci=q(Ot,2);{var Di=fe=>{var rn=Zu(),an=j(rn);an.__click=[Xu,V];let Vn;var Ai=q(an,2);At(Ai,17,()=>U(d(S),d(Lt)),ke,(on,sn)=>{var de=Bu();de.__click=[qu,V,sn];let Xn;var $i=j(de,!0);Y(de),ct(Ae=>{Xn=kt(de,1,"svelte-vyy5kd",null,Xn,Ae),ot($i,d(sn))},[()=>{var Ae;return{selected:(Ae=u().Ð¨ÐºÐ¾Ð»Ð°)==null?void 0:Ae.includes(d(sn))}}]),B(on,de)}),Y(rn),ct(on=>Vn=kt(an,1,"svelte-vyy5kd",null,Vn,on),[()=>({selected:!u().Ð¨ÐºÐ¾Ð»Ð°||u().Ð¨ÐºÐ¾Ð»Ð°.length===0})]),B(fe,rn)};lt(Ci,fe=>{o[d(bt)]&&fe(Di)})}Y(Yt),Y(Dt),Y(Vt),ct(fe=>{ot(Ft,`${d(Lt)??""} ÑÐ°Ð¹Ð¾Ð½`),ot(Ce,`${(o[d(bt)]?"ÐÐ³Ð¾ÑÐ½ÑÑÐ¸":"ÐÐ±ÑÐ°ÑÐ¸")??""} ÑÐºÐ¾Ð»Ð¸`),De=kt(nn,1,"toggle-icon svelte-vyy5kd",null,De,fe)},[()=>({expanded:o[d(bt)]})]),B(Ct,Vt)}),Y(vt),B(at,vt)};lt(z,at=>{d(N)&&at(K)})}Y(W);var it=q(W,2),ft=j(it);{var dt=at=>{var vt=Ku(),Ct=Wt(vt);Zr(Ct,()=>g[d(S)],!1,!1);var bt=q(Ct,2);{var Vt=Lt=>{var wt=Ju(),Dt=j(wt),Et=j(Dt,!0);Y(Dt);var Ft=q(Dt,2),Yt=j(Ft);Y(Ft),Y(wt),ct(Ot=>{ie(wt,`left: ${M[d(S)].x??""}px; top: ${M[d(S)].y??""}px;`),ot(Et,M[d(S)].region),ot(Yt,`${M[d(S)].count??""} ${Ot??""}`)},[()=>Si(M[d(S)].count)]),B(Lt,wt)};lt(bt,Lt=>{var wt;(wt=M[d(S)])!=null&&wt.show&&Lt(Vt)})}B(at,vt)},ce=at=>{var vt=tl();B(at,vt)};lt(ft,at=>{g[d(S)]?at(dt):at(ce,!1)})}Y(it),He(it,(at,vt)=>h[vt]=at,at=>h==null?void 0:h[at],()=>[d(S)]),Y(O),ct(()=>ie(O,`grid-template-columns: ${(d(N)?"1fr 1fr":"16px 1fr 1fr")??""};
          align-items: ${(d(N)?"flex-start":"center")??""};`)),Bt(1,O,()=>ku,()=>e.isMobile?void 0:{region:d(S),animationData:c()}),B(x,O)});var ut=q(rt,2);At(ut,17,()=>[...l.entries()],ke,(x,S)=>{let O=()=>d(S)[0],N=()=>d(S)[1];var p=ye(),R=Wt(p);{var W=y=>{var C=sl(),z=j(C),K=j(z);K.__click=[nl,H,O];var it=q(K,2),ft=j(it,!0);Y(it),Y(z);var dt=q(z,2),ce=j(dt);ce.__click=[rl,k,O];var at=j(ce),vt=j(at);Y(at);var Ct=q(at,2);let bt;Y(ce),Y(dt);var Vt=q(dt,2);{var Lt=wt=>{var Dt=ol();At(Dt,21,()=>A(N()),Et=>Et.id,(Et,Ft)=>{var Yt=al(),Ot=j(Yt),jt=j(Ot);Aa(jt),jt.__change=[il,F,Ft];var Xt=q(jt,2);let Ce;var nn=j(Xt,!0);Y(Xt),Y(Ot),Y(Yt),ct(De=>{$a(jt,d(Ft).selected),Ce=kt(Xt,1,"answer svelte-vyy5kd",null,Ce,De),ot(nn,d(Ft).answer)},[()=>({selected:d(Ft).selected})]),B(Et,Yt)}),Y(Dt),B(wt,Dt)};lt(Vt,wt=>{v[O()]&&wt(Lt)})}Y(C),ct(wt=>{ot(ft,O()),ot(vt,`${(v[O()]?"ÐÐ³Ð¾ÑÐ½ÑÑÐ¸":"ÐÐ¾ÐºÐ°Ð·Ð°ÑÐ¸")??""} Ð²ÑÐ´Ð¿Ð¾Ð²ÑÐ´Ñ`),bt=kt(Ct,1,"toggle-icon svelte-vyy5kd",null,bt,wt)},[()=>({expanded:v[O()]})]),Bt(1,C,()=>Mi,()=>({key:O(),noAnimation:e.isMobile})),Bt(2,C,()=>ki,()=>({key:O(),noAnimation:e.isMobile})),B(y,C)};lt(R,y=>{!Wr.includes(O())&&u()[O()]&&u()[O()].length>0&&y(W)})}B(x,p)}),B(t,P),le(),r()}Je(["click","change"]);var ll=tt('<div class="tooltip svelte-1chkbij"><p class="tooltip-region svelte-1chkbij"> </p> <p class="tooltip-count svelte-1chkbij"> </p></div>'),cl=tt('<div class="map-container svelte-1chkbij"><div class="svg-container svelte-1chkbij"><!> <!></div> <div><p class="svelte-1chkbij">ÐÑÐ»ÑÐºÑÑÑÑ ÑÑÐ°ÑÐ½Ð¸ÐºÑÐ²</p> <div class="gradient svelte-1chkbij"></div> <div class="countText svelte-1chkbij"><p class="svelte-1chkbij"> </p> <p class="svelte-1chkbij"> </p></div></div></div>');function fl(t,e){ue(e,!0);const[n,r]=Te(),a=()=>$t(we,"$selectedRegion",n),i=()=>$t(re,"$surveysRaw",n),s=()=>$t(en,"$showTooltip",n);let c=ne(e,"FILTERS",31,()=>ht({})),u=_t(void 0),l=[],v=_t(ht({min:0,max:0,counts:{}})),f=_t(""),o=_t(!1),g=ht({x:0,y:0,region:"",count:0});const h={setTooltipRegion:A=>g.region=A,setTooltipCount:A=>g.count=A,setTooltipX:A=>g.x=A,setTooltipY:A=>g.y=A};Xr(M);async function M(){var U;const A=await fetch(`${Vr}/img/regions.svg`);if(!A.ok)throw new Error("Failed to load SVG");st(f,await A.text(),!0),st(o,!0),await Ne(),l=[...((U=d(u))==null?void 0:U.querySelectorAll("path[id]"))||[]],_()}function D(A,U){const{regionStats:V}=Rn(A,U);st(v,V,!0)}async function L(){await Ne();const A=l;if(!A.length)return;const U=Array.isArray(a())?a():[];A.forEach(V=>{const $=d(v).counts[V.id]||0,P=d(v).max>0?$/d(v).max:0;Object.assign(V.style,{fill:zr(P),cursor:$>0?"pointer":"not-allowed",stroke:U.includes(V.id)?"#000000":"",strokeWidth:U.includes(V.id)?"1px":""})})}function E(A){const U=A.target.id;if(!U||(d(v).counts[U]||0)===0)return;const $=Array.isArray(a())?[...a()]:[],P=$.indexOf(U);if(P===-1){$.push(U);const Q=A.target.getBoundingClientRect(),et=d(u).getBoundingClientRect();We.update(rt=>({...rt,[U]:{left:Q.left-et.left,top:Q.top-et.top,width:Q.width,height:Q.height,viewportX:Q.left+window.scrollX,viewportY:Q.top+window.scrollY}}))}else $.splice(P,1),We.update(Q=>{const et={...Q};return delete et[U],et});we.set($),c($.length===0?(()=>{const{ÐÐ±Ð»Ð°ÑÑÑ:Q,...et}=c();return et})():{...c(),ÐÐ±Ð»Ð°ÑÑÑ:$})}async function _(){await Ne(),l.forEach(A=>{A!=null&&A.id&&Object.entries({click:E,mouseenter:V=>bi(V,{regionCounts:d(v).counts,...h}),mouseleave:Ti,mousemove:V=>xi(V,{svgContainer:d(u),...h})}).forEach(([V,$])=>{A.removeEventListener(V,$),A.addEventListener(V,$)})})}xt(()=>{!d(o)||!d(u)||(D(i(),c()),L())});var m=cl(),w=j(m),b=j(w);Zr(b,()=>d(f),!1,!1);var I=q(b,2);{var X=A=>{var U=ll(),V=j(U),$=j(V,!0);Y(V);var P=q(V,2),J=j(P);Y(P),Y(U),ct(Q=>{ie(U,`left: ${g.x??""}px; top: ${g.y??""}px;`),ot($,g.region),ot(J,`${g.count??""} ${Q??""}`)},[()=>Si(g.count)]),B(A,U)};lt(I,A=>{s()&&A(X)})}Y(w),He(w,A=>st(u,A),()=>d(u));var G=q(w,2),Z=q(j(G),4),T=j(Z),k=j(T,!0);Y(T);var F=q(T,2),H=j(F,!0);Y(F),Y(Z),Y(G),Y(m),ct(()=>{ot(k,d(v).min),ot(H,d(v).max)}),B(t,m),le(),r()}var dl=(t,e)=>e.isCollapsed=!e.isCollapsed,vl=$n('<svg viewBox="0 0 25 25" width="25" height="25"><path d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"></path></svg>'),hl=$n('<svg viewBox="0 0 25 25" width="25" height="25"><path d="M19,13H5V11H19V13Z"></path></svg>'),gl=tt('<div class="filter svelte-sjonkk"><!></div>'),ml=tt('<p class="full svelte-sjonkk"> </p>'),pl=tt('<div class="filter svelte-sjonkk"><!></div>'),yl=tt('<div class="board svelte-sjonkk"><div class="boardContent svelte-sjonkk"><h1 class="svelte-sjonkk">Ð ÐµÐ·ÑÐ»ÑÑÐ°ÑÐ¸ ÑÑÐ½Ð½ÑÑÐ½Ð¾Ð³Ð¾ ÑÐµÑÑÑ</h1> <section class="mainPage svelte-sjonkk"><!> <div class="ver-line svelte-sjonkk"></div> <!> <div class="ver-line svelte-sjonkk"></div> <!> <div class="mobileButton svelte-sjonkk"><h2 class="svelte-sjonkk">ÐÐ±ÑÐ°Ð½Ñ ÑÑÐ»ÑÑÑÐ¸</h2> <div class="surveys svelte-sjonkk"><p class="full svelte-sjonkk"> </p> <button class="collapse-button svelte-sjonkk"><!></button></div></div> <!> <div class="line full svelte-sjonkk"></div> <!></section> <!></div> <!></div>');function Sl(t,e){ue(e,!0);const[n,r]=Te(),a=()=>$t(re,"$surveysRaw",n);let i=_t(0),s=Tt(()=>d(i)<=800),c=_t(ht({})),u=_t(ht([])),l=_t(0),v=_t(0),f=Tt(()=>d(l)>0?Math.round(d(v)/d(l)*100):0);const o=ht({isCollapsed:!1});re.subscribe($=>{st(l,$.length,!0)}),_a.subscribe($=>{st(u,$.sort((P,J)=>{const Q=tr.indexOf(P.question),et=tr.indexOf(J.question);return Q!==-1&&et!==-1?Q!==et?Q-et:J.freq-P.freq:Q!==-1?-1:et!==-1?1:P.question!==J.question?P.question.localeCompare(J.question):J.freq-P.freq}),!0)}),xt(()=>{const $=a().filter(Q=>Object.entries(d(c)).every(([et,rt])=>{if(et==="dateRange"){const ut=Q["ÐÐ°ÑÐ° Ð·Ð°Ð¿Ð¾Ð²Ð½ÐµÐ½Ð½Ñ Ð°Ð½ÐºÐµÑÐ¸"];if(!ut||ut==="NA")return!1;const x=new Date(ut),S=new Date(rt.start),O=new Date(rt.end);return x>=S&&x<=O}return Array.isArray(rt)?rt.length===0?!0:rt.includes(Q[et]):Q[et]===rt}));st(v,$.length,!0);const P=$.length>0?Object.keys($[0]):[],{freqMap:J}=Rn($,{},P);d(u).forEach(Q=>{const et=`${Q.question}||${Q.answer}`;Q.freq=J.get(et)??0})});var g=yl(),h=j(g),M=q(j(h),2),D=j(M);fl(D,{get FILTERS(){return d(c)},set FILTERS($){st(c,$,!0)}});var L=q(D,4);Ou(L,{get FILTERS(){return d(c)},set FILTERS($){st(c,$,!0)}});var E=q(L,4);gu(E,{get FILTERS(){return d(c)},set FILTERS($){st(c,$,!0)}});var _=q(E,2),m=q(j(_),2),w=j(m),b=j(w);Y(w);var I=q(w,2);I.__click=[dl,o];var X=j(I);{var G=$=>{var P=vl();B($,P)},Z=$=>{var P=hl();B($,P)};lt(X,$=>{o.isCollapsed?$(G):$(Z,!1)})}Y(I),Y(m),Y(_);var T=q(_,2);{var k=$=>{var P=gl(),J=j(P);Rr(J,{get filteredData(){return d(u)},get isMobile(){return d(s)},get FILTERS(){return d(c)},set FILTERS(Q){st(c,Q,!0)}}),Y(P),B($,P)};lt(T,$=>{d(s)&&!o.isCollapsed&&$(k)})}var F=q(T,4);{var H=$=>{var P=ml(),J=j(P);Y(P),ct(()=>ot(J,`ÐÐ°Ð½Ñ ${d(v)??""} Ð°Ð½ÐºÐµÑ (${d(f)??""}%)`)),B($,P)};lt(F,$=>{d(s)||$(H)})}Y(M);var A=q(M,2);Eu(A,{get filteredData(){return d(u)},get isMobile(){return d(s)},get FILTERS(){return d(c)}}),Y(h);var U=q(h,2);{var V=$=>{var P=pl(),J=j(P);Rr(J,{get filteredData(){return d(u)},get isMobile(){return d(s)},get FILTERS(){return d(c)},set FILTERS(Q){st(c,Q,!0)}}),Y(P),B($,P)};lt(U,$=>{d(s)||$(V)})}Y(g),ct(()=>ot(b,`ÐÐ°Ð½Ñ ${d(v)??""} Ð°Ð½ÐºÐµÑ (${d(f)??""}%)`)),Ia("innerWidth",$=>st(i,$,!0)),B(t,g),le(),r()}Je(["click"]);export{Sl as component};
