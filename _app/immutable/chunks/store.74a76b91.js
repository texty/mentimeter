import{e as V,G as D,H as A,a9 as G,I as J,J as P,aG as E,a4 as U,at as j,ab as q,ad as T,T as b,Q as H,a as B,d as v,a6 as F,ac as K,aH as Q,a1 as W,X,aI as z,O as Z,c as x,i as ee,h as S,l as re,y as ae,m as te,ao as L,aJ as ne,aK as se,g as ie,F as ue,s as oe}from"./index.d58cbdbf.js";import{d as fe}from"./disclose-version.1b65366f.js";const le=["touchstart","touchmove"];function de(e){return le.includes(e)}const Y=new Set,N=new Set;function ge(e){for(var r=0;r<e.length;r++)Y.add(e[r]);for(var t of N)t(e)}function y(e){var R;var r=this,t=r.ownerDocument,n=e.type,u=((R=e.composedPath)==null?void 0:R.call(e))||[],a=u[0]||e.target,f=0,_=e.__root;if(_){var d=u.indexOf(_);if(d!==-1&&(r===document||r===window)){e.__root=r;return}var h=u.indexOf(r);if(h===-1)return;d<=h&&(f=d)}if(a=u[f]||e.target,a!==r){V(e,"currentTarget",{configurable:!0,get(){return a||t}});var w=J,o=P;D(null),A(null);try{for(var s,i=[];a!==null;){var l=a.assignedSlot||a.parentNode||a.host||null;try{var c=a["__"+n];if(c!=null&&(!a.disabled||e.target===a))if(G(c)){var[k,...C]=c;k.apply(a,[e,...C])}else c.call(a,e)}catch(p){s?i.push(p):s=p}if(e.cancelBubble||l===r||l===null)break;a=l}if(s){for(let p of i)queueMicrotask(()=>{throw p});throw s}}finally{e.__root=r,delete e.currentTarget,D(w),A(o)}}}let M=!0;function ve(e,r){var t=r==null?"":typeof r=="object"?r+"":r;t!==(e.__t??(e.__t=e.nodeValue))&&(e.__t=t,e.nodeValue=t+"")}function ce(e,r){return $(e,r)}function pe(e,r){E(),r.intro=r.intro??!1;const t=r.target,n=S,u=v;try{for(var a=U(t);a&&(a.nodeType!==8||a.data!==j);)a=q(a);if(!a)throw T;b(!0),H(a),B();const f=$(e,{...r,anchor:a});if(v===null||v.nodeType!==8||v.data!==F)throw K(),T;return b(!1),f}catch(f){if(f===T)return r.recover===!1&&Q(),E(),W(t),b(!1),ce(e,r);throw f}finally{b(n),H(u)}}const g=new Map;function $(e,{target:r,anchor:t,props:n={},events:u,context:a,intro:f=!0}){E();var _=new Set,d=o=>{for(var s=0;s<o.length;s++){var i=o[s];if(!_.has(i)){_.add(i);var l=de(i);r.addEventListener(i,y,{passive:l});var c=g.get(i);c===void 0?(document.addEventListener(i,y,{passive:l}),g.set(i,1)):g.set(i,c+1)}}};d(X(Y)),N.add(d);var h=void 0,w=z(()=>{var o=t??r.appendChild(Z());return x(()=>{if(a){ee({});var s=ae;s.c=a}u&&(n.$$events=u),S&&fe(o,null),M=f,h=e(o,n)||{},M=!0,S&&(P.nodes_end=v),a&&re()}),()=>{var l;for(var s of _){r.removeEventListener(s,y);var i=g.get(s);--i===0?(document.removeEventListener(s,y),g.delete(s)):g.set(s,i)}N.delete(d),o!==t&&((l=o.parentNode)==null||l.removeChild(o))}});return O.set(h,w),h}let O=new WeakMap;function be(e,r){const t=O.get(e);return t?(O.delete(e),t(r)):Promise.resolve()}let m=!1,I=Symbol();function ye(e,r,t){const n=t[r]??(t[r]={store:null,source:te(void 0),unsubscribe:L});if(n.store!==e&&!(I in t))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=L;else{var u=!0;n.unsubscribe=ne(e,a=>{u?n.source.v=a:oe(n.source,a)}),u=!1}return e&&I in t?se(e):ie(n.source)}function me(){const e={};function r(){ue(()=>{for(var t in e)e[t].unsubscribe();V(e,I,{enumerable:!1,value:!0})})}return[e,r]}function we(e){var r=m;try{return m=!1,[e(),m]}finally{m=r}}export{me as a,ye as b,M as c,ge as d,we as e,pe as h,ce as m,ve as s,be as u};
